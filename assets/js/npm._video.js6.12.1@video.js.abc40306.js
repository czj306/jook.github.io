(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{6767:function(t,e,n){
/**
 * @license
 * Video.js 6.12.1 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/master/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/master/LICENSE>
 */
function o(t){return t&&"object"==typeof t&&"default"in t?t.default:t}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function a(t,e){return t.raw=e,t}function l(t){return V(t)?Object.keys(t):[]}var c,h=o(n("ecdc")),u=o(n("0335")),p=o(n("1f90")),d=o(n("0630")),f=o(n("eaf9")),y=o(n("edcb")),v="6.12.1",g=(n=h.navigator&&h.navigator.userAgent||"",(g=/AppleWebKit\/([\d.]+)/i.exec(n))?parseFloat(g.pop()):null),m=/iPad/i.test(n),_=/iPhone/i.test(n)&&!m,b=/iPod/i.test(n),T=_||m||b,C=(C=n.match(/OS (\d+)_/i))&&C[1]?C[1]:null,k=/Android/i.test(n),E=(F=n.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i))?(c=F[1]&&parseFloat(F[1]),j=F[2]&&parseFloat(F[2]),c&&j?parseFloat(F[1]+"."+F[2]):c||null):null,S=k&&/webkit/i.test(n)&&E<2.3,w=k&&E<5&&g<537,x=/Firefox/i.test(n),j=/Edge/i.test(n),P=!j&&(/Chrome/i.test(n)||/CriOS/i.test(n)),A=(F=n.match(/(Chrome|CriOS)\/(\d+)/))&&F[2]?parseFloat(F[2]):null,O=/MSIE\s8\.0/.test(n),M=c=!(c=(c=/MSIE\s(\d+)\.\d/.exec(n))&&parseFloat(c[1]))&&/Trident\/7.0/i.test(n)&&/rv:11.0/.test(n)?11:c,N=((g=/Safari/i.test(n)&&!P&&!k&&!j)||T)&&!P,I=Q()&&("ontouchstart"in h||h.navigator.maxTouchPoints||h.DocumentTouch&&h.document instanceof h.DocumentTouch),D=Q()&&"backgroundSize"in h.document.createElement("video").style,F=(Object.freeze||Object)({IS_IPAD:m,IS_IPHONE:_,IS_IPOD:b,IS_IOS:T,IOS_VERSION:C,IS_ANDROID:k,ANDROID_VERSION:E,IS_OLD_ANDROID:S,IS_NATIVE_ANDROID:w,IS_FIREFOX:x,IS_EDGE:j,IS_CHROME:P,CHROME_VERSION:A,IS_IE8:O,IE_VERSION:M,IS_SAFARI:g,IS_ANY_SAFARI:N,TOUCH_ENABLED:I,BACKGROUND_SIZE_SUPPORTED:D}),L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R=Object.prototype.toString;function B(t,e){l(t).forEach((function(n){return e(t[n],n)}))}function H(t){for(var e=arguments.length,n=Array(1<e?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return Object.assign?Object.assign.apply(Object,[t].concat(n)):(n.forEach((function(e){e&&B(e,(function(e,n){t[n]=e}))})),t)}function V(t){return!!t&&"object"===(void 0===t?"undefined":L(t))}function z(t){return V(t)&&"[object Object]"===R.call(t)&&t.constructor===Object}function W(t,e){var n,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!!M&&M<11,r=U.levels[K],i=new RegExp("^("+r+")$");"log"!==t&&e.unshift(t.toUpperCase()+":"),q&&q.push([].concat(e)),e.unshift("VIDEOJS:"),h.console&&(n=(n=h.console[t])||"debug"!==t?n:h.console.info||h.console.log)&&r&&i.test(t)&&(o&&(e=e.map((function(t){if(V(t)||Array.isArray(t))try{return JSON.stringify(t)}catch(t){}return String(t)})).join(" ")),n.apply?n[Array.isArray(e)?"apply":"call"](h.console,e):n(e))}var U=void 0,K="info",q=[],$=((U=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];W("log",e)}).levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:K},U.level=function(t){if("string"==typeof t){if(!U.levels.hasOwnProperty(t))throw new Error('"'+t+'" in not a valid log level');K=t}return K},U.history=function(){return q?[].concat(q):[]},U.history.clear=function(){q&&(q.length=0)},U.history.disable=function(){null!==q&&(q.length=0,q=null)},U.history.enable=function(){null===q&&(q=[])},U.error=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return W("error",e)},U.warn=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return W("warn",e)},U.debug=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return W("debug",e)},U);function G(t,e){var n;return t&&e?"function"==typeof h.getComputedStyle?(n=h.getComputedStyle(t))?n[e]:"":t.currentStyle[e]||"":""}var Y=a(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]);function X(t){return"string"==typeof t&&/\S/.test(t)}function J(t){if(/\s/.test(t))throw new Error("class has illegal whitespace characters")}function Q(){return u===h.document&&void 0!==u.createElement}function Z(t){return V(t)&&1===t.nodeType}function tt(){try{return h.parent!==h.self}catch(t){return!0}}function et(t){return function(e,n){return X(e)?(n=Z(n=X(n)?u.querySelector(n):n)?n:u)[t]&&n[t](e):u[t](null)}}function nt(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"div",e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},o=arguments[3],r=u.createElement(t);return Object.getOwnPropertyNames(e).forEach((function(t){var n=e[t];-1!==t.indexOf("aria-")||"role"===t||"type"===t?($.warn(p(Y,t,n)),r.setAttribute(t,n)):"textContent"===t?ot(r,n):r[t]=n})),Object.getOwnPropertyNames(n).forEach((function(t){r.setAttribute(t,n[t])})),o&&Ct(r,o),r}function ot(t,e){return void 0===t.textContent?t.innerText=e:t.textContent=e,t}function rt(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function it(t,e){return J(e),t.classList?t.classList.contains(e):new RegExp("(^|\\s)"+e+"($|\\s)").test(t.className)}function st(t,e){return t.classList?t.classList.add(e):it(t,e)||(t.className=(t.className+" "+e).trim()),t}function at(t,e){return t.classList?t.classList.remove(e):(J(e),t.className=t.className.split(/\s+/).filter((function(t){return t!==e})).join(" ")),t}function lt(t,e,n){var o=it(t,e);if((n="boolean"!=typeof(n="function"==typeof n?n(t,e):n)?!o:n)!==o)return(n?st:at)(t,e),t}function ct(t,e){Object.getOwnPropertyNames(e).forEach((function(n){var o=e[n];null==o||!1===o?t.removeAttribute(n):t.setAttribute(n,!0===o?"":o)}))}function ht(t){var e={};if(t&&t.attributes&&0<t.attributes.length)for(var n=t.attributes,o=n.length-1;0<=o;o--){var r=n[o].name,i=n[o].value;"boolean"!=typeof t[r]&&-1===",autoplay,controls,playsinline,loop,muted,default,defaultMuted,".indexOf(","+r+",")||(i=null!==i),e[r]=i}return e}function ut(t,e){return t.getAttribute(e)}function pt(t,e,n){t.setAttribute(e,n)}function dt(t,e){t.removeAttribute(e)}function ft(){u.body.focus(),u.onselectstart=function(){return!1}}function yt(){u.onselectstart=function(){return!0}}function vt(t){var e,n;if(t&&t.getBoundingClientRect&&t.parentNode)return e=t.getBoundingClientRect(),n={},["bottom","height","left","right","top","width"].forEach((function(t){void 0!==e[t]&&(n[t]=e[t])})),n.height||(n.height=parseFloat(G(t,"height"))),n.width||(n.width=parseFloat(G(t,"width"))),n}function gt(t){var e,n,o,r=void 0;return(r=t.getBoundingClientRect&&t.parentNode?t.getBoundingClientRect():r)?(t=u.documentElement,o=u.body,n=t.clientLeft||o.clientLeft||0,e=h.pageXOffset||o.scrollLeft,e=r.left+e-n,n=t.clientTop||o.clientTop||0,t=h.pageYOffset||o.scrollTop,o=r.top+t-n,{left:Math.round(e),top:Math.round(o)}):{left:0,top:0}}function mt(t,e){var n={},o=gt(t),r=t.offsetWidth,i=(t=t.offsetHeight,o.top),s=(o=o.left,e.pageY),a=e.pageX;return e.changedTouches&&(a=e.changedTouches[0].pageX,s=e.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(i-s+t)/t)),n.x=Math.max(0,Math.min(1,(a-o)/r)),n}function _t(t){return V(t)&&3===t.nodeType}function bt(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function Tt(t){return"function"==typeof t&&(t=t()),(Array.isArray(t)?t:[t]).map((function(t){return Z(t="function"==typeof t?t():t)||_t(t)?t:"string"==typeof t&&/\S/.test(t)?u.createTextNode(t):void 0})).filter((function(t){return t}))}function Ct(t,e){return Tt(e).forEach((function(e){return t.appendChild(e)})),t}function kt(t,e){return Ct(bt(t),e)}function Et(t){return void 0===t.button&&void 0===t.buttons||0===t.button&&void 0===t.buttons||9===M||0===t.button&&1===t.buttons}var St=et("querySelector"),wt=et("querySelectorAll"),xt=(Object.freeze||Object)({isReal:Q,isEl:Z,isInFrame:tt,createEl:nt,textContent:ot,prependTo:rt,hasClass:it,addClass:st,removeClass:at,toggleClass:lt,setAttributes:ct,getAttributes:ht,getAttribute:ut,setAttribute:pt,removeAttribute:dt,blockTextSelection:ft,unblockTextSelection:yt,getBoundingClientRect:vt,findPosition:gt,getPointerPosition:mt,isTextNode:_t,emptyEl:bt,normalizeContent:Tt,appendContent:Ct,insertContent:kt,isSingleLeftClick:Et,$:St,$$:wt}),jt=1,Pt={},At="vdata"+(new Date).getTime();function Ot(t){var e=(e=t[At])||(t[At]=jt++);return Pt[e]||(Pt[e]={}),Pt[e]}function Mt(t){return(t=t[At])&&Object.getOwnPropertyNames(Pt[t]).length}function Nt(t){var e=t[At];if(e){delete Pt[e];try{delete t[At]}catch(e){t.removeAttribute?t.removeAttribute(At):t[At]=null}}}function It(t,e){var n=Ot(t);0===n.handlers[e].length&&(delete n.handlers[e],t.removeEventListener?t.removeEventListener(e,n.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&Nt(t)}function Dt(t,e,n,o){n.forEach((function(n){t(e,n,o)}))}function Ft(t){function e(){return!0}function n(){return!1}if(!t||!t.isPropagationStopped){var o,r,i,s=t||h.event;for(o in t={},s)"layerX"===o||"layerY"===o||"keyLocation"===o||"webkitMovementX"===o||"webkitMovementY"===o||"returnValue"===o&&s.preventDefault||(t[o]=s[o]);t.target||(t.target=t.srcElement||u),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){s.preventDefault&&s.preventDefault(),t.returnValue=!1,s.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){s.stopPropagation&&s.stopPropagation(),t.cancelBubble=!0,s.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=n,t.stopImmediatePropagation=function(){s.stopImmediatePropagation&&s.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=n,null!==t.clientX&&void 0!==t.clientX&&(r=u.documentElement,i=u.body,t.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),t.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),t.which=t.charCode||t.keyCode,null!==t.button&&void 0!==t.button&&(t.button=1&t.button?0:4&t.button?1:2&t.button?2:0)}return t}var Lt=!1;try{var Rt=Object.defineProperty({},"passive",{get:function(){Lt=!0}});h.addEventListener("test",null,Rt),h.removeEventListener("test",null,Rt)}catch(n){}var Bt=["touchstart","touchmove"];function Ht(t,e,n){if(Array.isArray(e))return Dt(Ht,t,e,n);var o=Ot(t);o.handlers||(o.handlers={}),o.handlers[e]||(o.handlers[e]=[]),n.guid||(n.guid=jt++),o.handlers[e].push(n),o.dispatcher||(o.disabled=!1,o.dispatcher=function(e,n){if(!o.disabled){e=Ft(e);var r=o.handlers[e.type];if(r)for(var i=r.slice(0),s=0,a=i.length;s<a&&!e.isImmediatePropagationStopped();s++)try{i[s].call(t,e,n)}catch(e){$.error(e)}}}),1===o.handlers[e].length&&(t.addEventListener?(n=!1,Lt&&-1<Bt.indexOf(e)&&(n={passive:!0}),t.addEventListener(e,o.dispatcher,n)):t.attachEvent&&t.attachEvent("on"+e,o.dispatcher))}function Vt(t,e,n){if(Mt(t)){var o=Ot(t);if(o.handlers){if(Array.isArray(e))return Dt(Vt,t,e,n);function r(t,e){o.handlers[e]=[],It(t,e)}if(void 0===e)for(var i in o.handlers)Object.prototype.hasOwnProperty.call(o.handlers||{},i)&&r(t,i);else{var s=o.handlers[e];if(s)if(n){if(n.guid)for(var a=0;a<s.length;a++)s[a].guid===n.guid&&s.splice(a--,1);It(t,e)}else r(t,e)}}}}function zt(t,e,n){var o=Mt(t)?Ot(t):{},r=t.parentNode||t.ownerDocument;return"string"==typeof e?e={type:e,target:t}:e.target||(e.target=t),e=Ft(e),o.dispatcher&&o.dispatcher.call(t,e,n),r&&!e.isPropagationStopped()&&!0===e.bubbles?zt.call(null,r,e,n):r||e.defaultPrevented||(o=Ot(e.target),e.target[e.type]&&(o.disabled=!0,"function"==typeof e.target[e.type]&&e.target[e.type](),o.disabled=!1)),!e.defaultPrevented}function Wt(t,e,n){if(Array.isArray(e))return Dt(Wt,t,e,n);function o(){Vt(t,e,o),n.apply(this,arguments)}o.guid=n.guid=n.guid||jt++,Ht(t,e,o)}function Ut(){if(Q()&&!1!==$t.options.autoSetup){var t=u.getElementsByTagName("video"),e=u.getElementsByTagName("audio"),n=u.getElementsByTagName("video-js"),o=[];if(t&&0<t.length)for(var r=0,i=t.length;r<i;r++)o.push(t[r]);if(e&&0<e.length)for(var s=0,a=e.length;s<a;s++)o.push(e[s]);if(n&&0<n.length)for(var l=0,c=n.length;l<c;l++)o.push(n[l]);if(o&&0<o.length)for(var h=0,p=o.length;h<p;h++){var d=o[h];if(!d||!d.getAttribute){Gt(1);break}void 0===d.player&&null!==d.getAttribute("data-setup")&&$t(d)}else qt||Gt(1)}}var Kt=(Object.freeze||Object)({fixEvent:Ft,on:Ht,off:Vt,trigger:zt,one:Wt}),qt=!1,$t=void 0;function Gt(t,e){e&&($t=e),h.setTimeout(Ut,t)}function Yt(t){var e=u.createElement("style");return e.className=t,e}function Xt(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e}function Jt(t,e){var n=Date.now();return function(){var o=Date.now();e<=o-n&&(t.apply(void 0,arguments),n=o)}}function Qt(){}function Zt(t){if(!t.nodeName&&!ie(t))throw new Error("Invalid target; must be a DOM node or evented object.")}function te(t){if(!se(t))throw new Error("Invalid event type; must be a non-empty string or array.")}function ee(t){if("function"!=typeof t)throw new Error("Invalid listener; must be a function.")}function ne(t,e){var n=e.length<3||e[0]===t||e[0]===t.eventBusEl_,o=void 0,r=void 0,i=void 0;i=n?(o=t.eventBusEl_,3<=e.length&&e.shift(),r=e[0],e[1]):(o=e[0],r=e[1],e[2]);return Zt(o),te(r),ee(i),{isTargetingSelf:n,target:o,type:r,listener:i=re(t,i)}}function oe(t,e,n,o){Zt(t),t.nodeName?Kt[e](t,n,o):t[e](n,o)}Q()&&"complete"===u.readyState?qt=!0:Wt(h,"load",(function(){qt=!0}));var re=function(t,e,n){function o(){return e.apply(t,arguments)}return e.guid||(e.guid=jt++),o.guid=n?n+"_"+e.guid:e.guid,o},ie=(Qt.prototype.allowedEvents_={},Qt.prototype.addEventListener=Qt.prototype.on=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},Ht(this,t,e),this.addEventListener=n},Qt.prototype.removeEventListener=Qt.prototype.off=function(t,e){Vt(this,t,e)},Qt.prototype.one=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},Wt(this,t,e),this.addEventListener=n},Qt.prototype.dispatchEvent=Qt.prototype.trigger=function(t){var e=t.type||t;t=Ft(t="string"==typeof t?{type:e}:t),this.allowedEvents_[e]&&this["on"+e]&&this["on"+e](t),zt(this,t)},function(t){return t instanceof Qt||!!t.eventBusEl_&&["on","one","off","trigger"].every((function(e){return"function"==typeof t[e]}))}),se=function(t){return"string"==typeof t&&/\S/.test(t)||Array.isArray(t)&&!!t.length},ae={on:function(){for(var t=this,e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];var r,i=ne(this,n),s=i.isTargetingSelf,a=i.target,l=i.type,c=i.listener;oe(a,"on",l,c),s||((r=function(){return t.off(a,l,c)}).guid=c.guid,(i=function(){return t.off("dispose",r)}).guid=c.guid,oe(this,"on","dispose",r),oe(a,"on","dispose",i))},one:function(){for(var t=this,e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];var r=ne(this,n),i=r.isTargetingSelf,s=r.target,a=r.type,l=r.listener;i?oe(s,"one",a,l):((r=function e(){for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];t.off(s,a,e),l.apply(null,o)}).guid=l.guid,oe(s,"one",a,r))},off:function(t,e,n){!t||se(t)?Vt(this.eventBusEl_,t,e):(e=e,Zt(t=t),te(e),ee(n),n=re(this,n),this.off("dispose",n),t.nodeName?(Vt(t,e,n),Vt(t,"dispose",n)):ie(t)&&(t.off(e,n),t.off("dispose",n)))},trigger:function(t,e){return zt(this.eventBusEl_,t,e)}};function le(t,e){var n=(1<arguments.length&&void 0!==e?e:{}).eventBusKey;if(n){if(!t[n].nodeName)throw new Error('The eventBusKey "'+n+'" does not refer to an element.');t.eventBusEl_=t[n]}else t.eventBusEl_=nt("span",{className:"vjs-event-bus"});H(t,ae),t.on("dispose",(function(){t.off(),h.setTimeout((function(){t.eventBusEl_=null}),0)}))}var ce={state:{},setState:function(t){var e=this,n=void("function"==typeof t&&(t=t()));return B(t,(function(t,o){e.state[o]!==t&&((n=n||{})[o]={from:e.state[o],to:t}),e.state[o]=t})),n&&ie(this)&&this.trigger({changes:n,type:"statechanged"}),n}};function he(t,e){H(t,ce),t.state=H({},t.state,e),"function"==typeof t.handleStateChanged&&ie(t)&&t.on("statechanged",t.handleStateChanged)}function ue(t){return"string"!=typeof t?t:t.charAt(0).toUpperCase()+t.slice(1)}function pe(){for(var t={},e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];return n.forEach((function(e){e&&B(e,(function(e,n){z(e)?(z(t[n])||(t[n]={}),t[n]=pe(t[n],e)):t[n]=e}))})),t}fe.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var t=this.children_.length-1;0<=t;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),Nt(this.el_),this.el_=null),this.player_=null},fe.prototype.player=function(){return this.player_},fe.prototype.options=function(t){return $.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),t&&(this.options_=pe(this.options_,t)),this.options_},fe.prototype.el=function(){return this.el_},fe.prototype.createEl=function(t,e,n){return nt(t,e,n)},fe.prototype.localize=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:t,o=this.player_.language&&this.player_.language(),r=(i=this.player_.languages&&this.player_.languages())&&i[o],i=(o=o&&o.split("-")[0],i&&i[o]);o=n;return r&&r[t]?o=r[t]:i&&i[t]&&(o=i[t]),e?o.replace(/\{(\d+)\}/g,(function(t,n){return void 0===(n=e[n-1])?t:n})):o},fe.prototype.contentEl=function(){return this.contentEl_||this.el_},fe.prototype.id=function(){return this.id_},fe.prototype.name=function(){return this.name_},fe.prototype.children=function(){return this.children_},fe.prototype.getChildById=function(t){return this.childIndex_[t]},fe.prototype.getChild=function(t){if(t)return t=ue(t),this.childNameIndex_[t]},fe.prototype.addChild=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.children_.length,o=void 0,r=void 0;if("string"==typeof t){r=ue(t);var i=e.componentClass||r,s=(e.name=r,fe.getComponent(i));if(!s)throw new Error("Component "+i+" does not exist");if("function"!=typeof s)return null;o=new s(this.player_||this,e)}else o=t;return this.children_.splice(n,0,o),"function"==typeof o.id&&(this.childIndex_[o.id()]=o),(r=r||o.name&&ue(o.name()))&&(this.childNameIndex_[r]=o),"function"==typeof o.el&&o.el()&&(i=this.contentEl().children[n]||null,this.contentEl().insertBefore(o.el(),i)),o},fe.prototype.removeChild=function(t){if((t="string"==typeof t?this.getChild(t):t)&&this.children_){for(var e,n=!1,o=this.children_.length-1;0<=o;o--)if(this.children_[o]===t){n=!0,this.children_.splice(o,1);break}n&&(this.childIndex_[t.id()]=null,this.childNameIndex_[t.name()]=null,e=t.el())&&e.parentNode===this.contentEl()&&this.contentEl().removeChild(t.el())}},fe.prototype.initChildren=function(){var t,e,n,o=this,r=this.options_.children;r&&(t=this.options_,n=void 0,e=fe.getComponent("Tech"),(n=Array.isArray(r)?r:Object.keys(r)).concat(Object.keys(this.options_).filter((function(t){return!n.some((function(e){return"string"==typeof e?t===e:t===e.name}))}))).map((function(t){var e=void 0,n="string"==typeof t?r[e=t]||o.options_[e]||{}:(e=t.name,t);return{name:e,opts:n}})).filter((function(t){return(t=fe.getComponent(t.opts.componentClass||ue(t.name)))&&!e.isTech(t)})).forEach((function(e){var n=e.name;e=e.opts;!1!==(e=void 0!==t[n]?t[n]:e)&&((e=!0===e?{}:e).playerOptions=o.options_.playerOptions,e=o.addChild(n,e))&&(o[n]=e)})))},fe.prototype.buildCSSClass=function(){return""},fe.prototype.ready=function(t){t&&(this.isReady_?1<arguments.length&&void 0!==arguments[1]&&arguments[1]?t.call(this):this.setTimeout(t,1):(this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(t)))},fe.prototype.triggerReady=function(){this.isReady_=!0,this.setTimeout((function(){var t=this.readyQueue_;this.readyQueue_=[],t&&0<t.length&&t.forEach((function(t){t.call(this)}),this),this.trigger("ready")}),1)},fe.prototype.$=function(t,e){return St(t,e||this.contentEl())},fe.prototype.$$=function(t,e){return wt(t,e||this.contentEl())},fe.prototype.hasClass=function(t){return it(this.el_,t)},fe.prototype.addClass=function(t){st(this.el_,t)},fe.prototype.removeClass=function(t){at(this.el_,t)},fe.prototype.toggleClass=function(t,e){lt(this.el_,t,e)},fe.prototype.show=function(){this.removeClass("vjs-hidden")},fe.prototype.hide=function(){this.addClass("vjs-hidden")},fe.prototype.lockShowing=function(){this.addClass("vjs-lock-showing")},fe.prototype.unlockShowing=function(){this.removeClass("vjs-lock-showing")},fe.prototype.getAttribute=function(t){return ut(this.el_,t)},fe.prototype.setAttribute=function(t,e){pt(this.el_,t,e)},fe.prototype.removeAttribute=function(t){dt(this.el_,t)},fe.prototype.width=function(t,e){return this.dimension("width",t,e)},fe.prototype.height=function(t,e){return this.dimension("height",t,e)},fe.prototype.dimensions=function(t,e){this.width(t,!0),this.height(e)},fe.prototype.dimension=function(t,e,n){var o,r;if(void 0===e)return this.el_?-1!==(r=(o=this.el_.style[t]).indexOf("px"))?parseInt(o.slice(0,r),10):parseInt(this.el_["offset"+ue(t)],10):0;-1!==(""+(e=null!==e&&e==e?e:0)).indexOf("%")||-1!==(""+e).indexOf("px")?this.el_.style[t]=e:this.el_.style[t]="auto"===e?"":e+"px",n||this.trigger("componentresize")},fe.prototype.currentDimension=function(t){var e,n=0;if("width"!==t&&"height"!==t)throw new Error("currentDimension only accepts width or height value");return"function"==typeof h.getComputedStyle&&(n=(e=h.getComputedStyle(this.el_)).getPropertyValue(t)||e[t]),0===(n=parseFloat(n))&&(e="offset"+ue(t),n=this.el_[e]),n},fe.prototype.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},fe.prototype.currentWidth=function(){return this.currentDimension("width")},fe.prototype.currentHeight=function(){return this.currentDimension("height")},fe.prototype.focus=function(){this.el_.focus()},fe.prototype.blur=function(){this.el_.blur()},fe.prototype.emitTapEvents=function(){function t(){o=!1}var e=0,n=null,o=void 0;this.on("touchstart",(function(t){1===t.touches.length&&(n={pageX:t.touches[0].pageX,pageY:t.touches[0].pageY},e=(new Date).getTime(),o=!0)})),this.on("touchmove",(function(t){var e;(1<t.touches.length||n&&(e=t.touches[0].pageX-n.pageX,t=t.touches[0].pageY-n.pageY,10<Math.sqrt(e*e+t*t)))&&(o=!1)})),this.on("touchleave",t),this.on("touchcancel",t),this.on("touchend",(function(t){!(n=null)===o&&(new Date).getTime()-e<200&&(t.preventDefault(),this.trigger("tap"))}))},fe.prototype.enableTouchActivity=function(){var t,e,n;this.player()&&this.player().reportUserActivity&&(t=re(this.player(),this.player().reportUserActivity),e=void 0,this.on("touchstart",(function(){t(),this.clearInterval(e),e=this.setInterval(t,250)})),n=function(n){t(),this.clearInterval(e)},this.on("touchmove",t),this.on("touchend",n),this.on("touchcancel",n))},fe.prototype.setTimeout=function(t,e){var n,o,r=this;return t=re(this,t),n=h.setTimeout((function(){r.off("dispose",o),t()}),e),(o=function(){return r.clearTimeout(n)}).guid="vjs-timeout-"+n,this.on("dispose",o),n},fe.prototype.clearTimeout=function(t){function e(){}return h.clearTimeout(t),e.guid="vjs-timeout-"+t,this.off("dispose",e),t},fe.prototype.setInterval=function(t,e){function n(){return o.clearInterval(r)}var o=this,r=(t=re(this,t),h.setInterval(t,e));return n.guid="vjs-interval-"+r,this.on("dispose",n),r},fe.prototype.clearInterval=function(t){function e(){}return h.clearInterval(t),e.guid="vjs-interval-"+t,this.off("dispose",e),t},fe.prototype.requestAnimationFrame=function(t){var e,n,o=this;return this.supportsRaf_?(t=re(this,t),e=h.requestAnimationFrame((function(){o.off("dispose",n),t()})),(n=function(){return o.cancelAnimationFrame(e)}).guid="vjs-raf-"+e,this.on("dispose",n),e):this.setTimeout(t,1e3/60)},fe.prototype.cancelAnimationFrame=function(t){var e;return this.supportsRaf_?(h.cancelAnimationFrame(t),(e=function(){}).guid="vjs-raf-"+t,this.off("dispose",e),t):this.clearTimeout(t)},fe.registerComponent=function(t,e){if("string"!=typeof t||!t)throw new Error('Illegal component name, "'+t+'"; must be a non-empty string.');var n=(n=fe.getComponent("Tech"))&&n.isTech(e),o=fe===e||fe.prototype.isPrototypeOf(e.prototype);if(n||!o)throw o=void 0,o=n?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'+t+'"; '+o+".");if(t=ue(t),fe.components_||(fe.components_={}),n=fe.getComponent("Player"),"Player"===t&&n&&n.players){var r=n.players;o=Object.keys(r);if(r&&0<o.length&&o.map((function(t){return r[t]})).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return fe.components_[t]=e},fe.getComponent=function(t){if(t)return t=ue(t),fe.components_&&fe.components_[t]?fe.components_[t]:void 0};var de=fe;function fe(t,e,n){r(this,fe),!t&&this.play?this.player_=t=this:this.player_=t,this.options_=pe({},this.options_),e=this.options_=pe(this.options_,e),this.id_=e.id||e.el&&e.el.id,this.id_||(t=t&&t.id&&t.id()||"no_player",this.id_=t+"_component_"+jt++),this.name_=e.name||null,e.el?this.el_=e.el:!1!==e.createEl&&(this.el_=this.createEl()),!1!==e.evented&&le(this,{eventBusKey:this.el_?"el_":null}),he(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},!(this.childNameIndex_={})!==e.initChildren&&this.initChildren(),this.ready(n),!1!==e.reportTouchActivity&&this.enableTouchActivity()}function ye(t,e,n,o){var r=o,i=n.length-1;if("number"!=typeof r||r<0||i<r)throw new Error("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+r+") is non-numeric or out of bounds (0-"+i+").");return n[o][e]}function ve(t){return void 0===t||0===t.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:t.length,start:ye.bind(null,"start",0,t),end:ye.bind(null,"end",1,t)}}function ge(t,e){return Array.isArray(t)?ve(t):void 0===t||void 0===e?ve():ve([[t,e]])}function me(t,e){var n,o=0,r=void 0;if(!e)return 0;t&&t.length||(t=ge(0,0));for(var i=0;i<t.length;i++)n=t.start(i),o+=(r=e<(r=t.end(i))?e:r)-n;return o/e}de.prototype.supportsRaf_="function"==typeof h.requestAnimationFrame&&"function"==typeof h.cancelAnimationFrame,de.registerComponent("Component",de);for(var _e={},be=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],Te=be[0],Ce=void 0,ke=0;ke<be.length;ke++)if(be[ke][1]in u){Ce=be[ke];break}if(Ce)for(var Ee=0;Ee<Ce.length;Ee++)_e[Te[Ee]]=Ce[Ee];function Se(t){if(t instanceof Se)return t;"number"==typeof t?this.code=t:"string"==typeof t?this.message=t:V(t)&&("number"==typeof t.code&&(this.code=t.code),H(this,t)),this.message||(this.message=Se.defaultMessages[this.code]||"")}Se.prototype.code=0,Se.prototype.message="",Se.prototype.status=null,Se.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],Se.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var we=0;we<Se.errorTypes.length;we++)Se[Se.errorTypes[we]]=we,Se.prototype[Se.errorTypes[we]]=we;function xe(t){return null!=t&&"function"==typeof t.then}function je(t){xe(t)&&t.then(null,(function(t){}))}function Pe(t){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((function(e,n,o){return t[n]&&(e[n]=t[n]),e}),{cues:t.cues&&Array.prototype.map.call(t.cues,(function(t){return{startTime:t.startTime,endTime:t.endTime,text:t.text,id:t.id}}))})}var Ae,Oe="vjs-modal-dialog",Me=(i(Ne,Ae=de),Ne.prototype.createEl=function(){return Ae.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},Ne.prototype.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,Ae.prototype.dispose.call(this)},Ne.prototype.buildCSSClass=function(){return Oe+" vjs-hidden "+Ae.prototype.buildCSSClass.call(this)},Ne.prototype.handleKeyPress=function(t){27===t.which&&this.closeable()&&this.close()},Ne.prototype.label=function(){return this.localize(this.options_.label||"Modal Window")},Ne.prototype.description=function(){var t=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(t+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),t},Ne.prototype.open=function(){var t;this.opened_||(t=this.player(),this.trigger("beforemodalopen"),this.opened_=!0,!this.options_.fillAlways&&(this.hasBeenOpened_||this.hasBeenFilled_)||this.fill(),this.wasPlaying_=!t.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&t.pause(),this.closeable()&&this.on(this.el_.ownerDocument,"keydown",re(this,this.handleKeyPress)),this.hadControls_=t.controls(),t.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0)},Ne.prototype.opened=function(t){return"boolean"==typeof t&&this[t?"open":"close"](),this.opened_},Ne.prototype.close=function(){var t;this.opened_&&(t=this.player(),this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&t.play(),this.closeable()&&this.off(this.el_.ownerDocument,"keydown",re(this,this.handleKeyPress)),this.hadControls_&&t.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary)&&this.dispose()},Ne.prototype.closeable=function(t){var e,n;return"boolean"==typeof t&&(t=this.closeable_=!!t,e=this.getChild("closeButton"),t&&!e&&(n=this.contentEl_,this.contentEl_=this.el_,e=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=n,this.on(e,"close",this.close)),!t)&&e&&(this.off(e,"close",this.close),this.removeChild(e),e.dispose()),this.closeable_},Ne.prototype.fill=function(){this.fillWith(this.content())},Ne.prototype.fillWith=function(t){var e=this.contentEl(),n=e.parentNode,o=e.nextSibling;(t=(this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(e),this.empty(),kt(e,t),this.trigger("modalfill"),o?n.insertBefore(e,o):n.appendChild(e),this.getChild("closeButton")))&&n.appendChild(t.el_)},Ne.prototype.empty=function(){this.trigger("beforemodalempty"),bt(this.contentEl()),this.trigger("modalempty")},Ne.prototype.content=function(t){return void 0!==t&&(this.content_=t),this.content_},Ne.prototype.conditionalFocus_=function(){var t=u.activeElement,e=this.player_.el_;this.previouslyActiveEl_=null,!e.contains(t)&&e!==t||(this.previouslyActiveEl_=t,this.focus(),this.on(u,"keydown",this.handleKeyDown))},Ne.prototype.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null),this.off(u,"keydown",this.handleKeyDown)},Ne.prototype.handleKeyDown=function(t){if(9===t.which){for(var e=this.focusableEls_(),n=this.el_.querySelector(":focus"),o=void 0,r=0;r<e.length;r++)if(n===e[r]){o=r;break}u.activeElement===this.el_&&(o=0),t.shiftKey&&0===o?(e[e.length-1].focus(),t.preventDefault()):t.shiftKey||o!==e.length-1||(e[0].focus(),t.preventDefault())}},Ne.prototype.focusableEls_=function(){var t=this.el_.querySelectorAll("*");return Array.prototype.filter.call(t,(function(t){return(t instanceof h.HTMLAnchorElement||t instanceof h.HTMLAreaElement)&&t.hasAttribute("href")||(t instanceof h.HTMLInputElement||t instanceof h.HTMLSelectElement||t instanceof h.HTMLTextAreaElement||t instanceof h.HTMLButtonElement)&&!t.hasAttribute("disabled")||t instanceof h.HTMLIFrameElement||t instanceof h.HTMLObjectElement||t instanceof h.HTMLEmbedElement||t.hasAttribute("tabindex")&&-1!==t.getAttribute("tabindex")||t.hasAttribute("contenteditable")}))},Ne);function Ne(t,e){return r(this,Ne),(t=s(this,Ae.call(this,t,e))).opened_=t.hasBeenOpened_=t.hasBeenFilled_=!1,t.closeable(!t.options_.uncloseable),t.content(t.options_.content),t.contentEl_=nt("div",{className:Oe+"-content"},{role:"document"}),t.descEl_=nt("p",{className:Oe+"-description vjs-control-text",id:t.el().getAttribute("aria-describedby")}),ot(t.descEl_,t.description()),t.el_.appendChild(t.descEl_),t.el_.appendChild(t.contentEl_),t}Me.prototype.options_={pauseOnOpen:!0,temporary:!0},de.registerComponent("ModalDialog",Me),i(Le,Ie=Qt),Le.prototype.addTrack=function(t){var e=this.tracks_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.tracks_[e]}}),-1===this.tracks_.indexOf(t)&&(this.tracks_.push(t),this.trigger({track:t,type:"addtrack"}))},Le.prototype.removeTrack=function(t){for(var e=void 0,n=0,o=this.length;n<o;n++)if(this[n]===t){(e=this[n]).off&&e.off(),this.tracks_.splice(n,1);break}e&&this.trigger({track:e,type:"removetrack"})},Le.prototype.getTrackById=function(t){for(var e=null,n=0,o=this.length;n<o;n++){var r=this[n];if(r.id===t){e=r;break}}return e};var Ie,De,Fe=Le;function Le(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=(r(this,Le),s(this,Ie.call(this)));if(!e&&(e=n,O))for(var o in e=u.createElement("custom"),Le.prototype)"constructor"!==o&&(e[o]=Le.prototype[o]);e.tracks_=[],Object.defineProperty(e,"length",{get:function(){return this.tracks_.length}});for(var i=0;i<t.length;i++)e.addTrack(t[i]);return s(n,e)}for(De in Fe.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},Fe.prototype.allowedEvents_)Fe.prototype["on"+De]=null;function Re(t,e){for(var n=0;n<t.length;n++)Object.keys(t[n]).length&&e.id!==t[n].id&&(t[n].enabled=!1)}i(He,Be=Fe),He.prototype.addTrack=function(t){var e=this;t.enabled&&Re(this,t),Be.prototype.addTrack.call(this,t),t.addEventListener&&t.addEventListener("enabledchange",(function(){e.changing_||(e.changing_=!0,Re(e,t),e.changing_=!1,e.trigger("change"))}))};var Be;n=He;function He(){for(var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],n=void r(this,He),o=e.length-1;0<=o;o--)if(e[o].enabled){Re(e,e[o]);break}if(O){for(var i in n=u.createElement("custom"),Fe.prototype)"constructor"!==i&&(n[i]=Fe.prototype[i]);for(var a in He.prototype)"constructor"!==a&&(n[a]=He.prototype[a])}return(n=t=s(this,Be.call(this,e,n))).changing_=!1,s(t,n)}function Ve(t,e){for(var n=0;n<t.length;n++)Object.keys(t[n]).length&&e.id!==t[n].id&&(t[n].selected=!1)}i(We,ze=Fe),We.prototype.addTrack=function(t){var e=this;t.selected&&Ve(this,t),ze.prototype.addTrack.call(this,t),t.addEventListener&&t.addEventListener("selectedchange",(function(){e.changing_||(e.changing_=!0,Ve(e,t),e.changing_=!1,e.trigger("change"))}))};var ze;m=We;function We(){for(var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],n=void r(this,We),o=e.length-1;0<=o;o--)if(e[o].selected){Ve(e,e[o]);break}if(O){for(var i in n=u.createElement("custom"),Fe.prototype)"constructor"!==i&&(n[i]=Fe.prototype[i]);for(var a in We.prototype)"constructor"!==a&&(n[a]=We.prototype[a])}return(n=t=s(this,ze.call(this,e,n))).changing_=!1,Object.defineProperty(n,"selectedIndex",{get:function(){for(var t=0;t<this.length;t++)if(this[t].selected)return t;return-1},set:function(){}}),s(t,n)}i(Ke,Ue=Fe),Ke.prototype.addTrack=function(t){Ue.prototype.addTrack.call(this,t),t.addEventListener("modechange",re(this,(function(){this.trigger("change")}))),-1===["metadata","chapters"].indexOf(t.kind)&&t.addEventListener("modechange",re(this,(function(){this.trigger("selectedlanguagechange")})))};var Ue;b=Ke;function Ke(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=void r(this,Ke);if(O){for(var n in e=u.createElement("custom"),Fe.prototype)"constructor"!==n&&(e[n]=Fe.prototype[n]);for(var o in Ke.prototype)"constructor"!==o&&(e[o]=Ke.prototype[o])}return t=s(this,Ue.call(this,t,e)),s(e=t,e)}function qe(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=(r(this,qe),this);if(O)for(var n in e=u.createElement("custom"),qe.prototype)"constructor"!==n&&(e[n]=qe.prototype[n]);e.trackElements_=[],Object.defineProperty(e,"length",{get:function(){return this.trackElements_.length}});for(var o=0,i=t.length;o<i;o++)e.addTrackElement_(t[o]);if(O)return e}qe.prototype.addTrackElement_=function(t){var e=this.trackElements_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.trackElements_[e]}}),-1===this.trackElements_.indexOf(t)&&this.trackElements_.push(t)},qe.prototype.getTrackElementByTrack_=function(t){for(var e=void 0,n=0,o=this.trackElements_.length;n<o;n++)if(t===this.trackElements_[n].track){e=this.trackElements_[n];break}return e},qe.prototype.removeTrackElement_=function(t){for(var e=0,n=this.trackElements_.length;e<n;e++)if(t===this.trackElements_[e]){this.trackElements_.splice(e,1);break}},C=qe,Ge.prototype.setCues_=function(t){function e(t){""+t in this||Object.defineProperty(this,""+t,{get:function(){return this.cues_[t]}})}var n=this.length||0,o=0,r=t.length;if(this.cues_=t,this.length_=t.length,n<r)for(o=n;o<r;o++)e.call(this,o)},Ge.prototype.getCueById=function(t){for(var e=null,n=0,o=this.length;n<o;n++){var r=this[n];if(r.id===t){e=r;break}}return e};var $e=Ge;function Ge(t){r(this,Ge);var e=this;if(O)for(var n in e=u.createElement("custom"),Ge.prototype)"constructor"!==n&&(e[n]=Ge.prototype[n]);if(Ge.prototype.setCues_.call(e,t),Object.defineProperty(e,"length",{get:function(){return this.length_}}),O)return e}var Ye,Xe={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},Je={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},Qe={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},Ze={disabled:"disabled",hidden:"hidden",showing:"showing"};i(tn,Ye=Qt),g=tn;function tn(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=(r(this,tn),s(this,Ye.call(this))),n=e;if(O)for(var o in n=u.createElement("custom"),tn.prototype)"constructor"!==o&&(n[o]=tn.prototype[o]);var i,a={id:t.id||"vjs_track_"+jt++,kind:t.kind||"",label:t.label||"",language:t.language||""};for(i in a)!function(t){Object.defineProperty(n,t,{get:function(){return a[t]},set:function(){}})}(i);return s(e,n)}function en(t){for(var e=["protocol","hostname","port","pathname","search","hash","host"],n=u.createElement("a"),o=(n.href=t,""===n.host&&"file:"!==n.protocol),r=void 0,i=(o&&((r=u.createElement("div")).innerHTML='<a href="'+t+'"></a>',n=r.firstChild,r.setAttribute("style","display:none; position:absolute;"),u.body.appendChild(r)),{}),s=0;s<e.length;s++)i[e[s]]=n[e[s]];return"http:"===i.protocol&&(i.host=i.host.replace(/:80$/,"")),"https:"===i.protocol&&(i.host=i.host.replace(/:443$/,"")),i.protocol||(i.protocol=h.location.protocol),o&&u.body.removeChild(r),i}function nn(t){var e;return t.match(/^https?:\/\//)||((e=u.createElement("div")).innerHTML='<a href="'+t+'">x</a>',t=e.firstChild.href),t}var on,rn=function(t){return"string"==typeof t&&(t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i.exec(t))?t.pop().toLowerCase():""},sn=function(t){var e=h.location;return(":"===(t=en(t)).protocol?e:t).protocol+t.host!==e.protocol+e.host},an=(Rt=(Object.freeze||Object)({parseUrl:en,getAbsoluteURL:nn,getFileExtension:rn,isCrossOrigin:sn}),function(t,e){var n=new h.WebVTT.Parser(h,h.vttjs,h.WebVTT.StringDecoder()),o=[];n.oncue=function(t){e.addCue(t)},n.onparsingerror=function(t){o.push(t)},n.onflush=function(){e.trigger({type:"loadeddata",target:e})},n.parse(t),0<o.length&&(h.console&&h.console.groupCollapsed&&h.console.groupCollapsed("Text Track parsing errors for "+e.src),o.forEach((function(t){return $.error(t)})),h.console)&&h.console.groupEnd&&h.console.groupEnd(),n.flush()}),ln=(i(cn,on=g),cn.prototype.addCue=function(t){var e=t;if(h.vttjs&&!(t instanceof h.vttjs.VTTCue)){for(var n in e=new h.vttjs.VTTCue(t.startTime,t.endTime,t.text),t)n in e||(e[n]=t[n]);e.id=t.id,e.originalCue_=t}for(var o=this.tech_.textTracks(),r=0;r<o.length;r++)o[r]!==this&&o[r].removeCue(e);this.cues_.push(e),this.cues.setCues_(this.cues_)},cn.prototype.removeCue=function(t){for(var e=this.cues_.length;e--;){var n=this.cues_[e];if(n===t||n.originalCue_&&n.originalCue_===t){this.cues_.splice(e,1),this.cues.setCues_(this.cues_);break}}},cn);function cn(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(r(this,cn),!e.tech)throw new Error("A tech was not provided.");e=pe(e,{kind:Qe[e.kind]||"subtitles",language:e.language||e.srclang||""});var n=Ze[e.mode]||"disabled",o=e.default,i=("metadata"!==e.kind&&"chapters"!==e.kind||(n="hidden"),t=s(this,on.call(this,e)));if(i.tech_=e.tech,O)for(var a in cn.prototype)"constructor"!==a&&(i[a]=cn.prototype[a]);i.cues_=[],i.activeCues_=[];var l=new $e(i.cues_),c=new $e(i.activeCues_),u=!1,p=re(i,(function(){this.activeCues=this.activeCues,u&&(this.trigger("cuechange"),u=!1)}));return"disabled"!==n&&i.tech_.ready((function(){i.tech_.on("timeupdate",p)}),!0),Object.defineProperty(i,"default",{get:function(){return o},set:function(){}}),Object.defineProperty(i,"mode",{get:function(){return n},set:function(t){var e=this;Ze[t]&&("showing"===(n=t)&&this.tech_.ready((function(){e.tech_.on("timeupdate",p)}),!0),this.trigger("modechange"))}}),Object.defineProperty(i,"cues",{get:function(){return this.loaded_?l:null},set:function(){}}),Object.defineProperty(i,"activeCues",{get:function(){if(!this.loaded_)return null;if(0!==this.cues.length){for(var t=this.tech_.currentTime(),e=[],n=0,o=this.cues.length;n<o;n++){var r=this.cues[n];(r.startTime<=t&&r.endTime>=t||r.startTime===r.endTime&&r.startTime<=t&&r.startTime+.5>=t)&&e.push(r)}if(u=!1,e.length!==this.activeCues_.length)u=!0;else for(var i=0;i<e.length;i++)-1===this.activeCues_.indexOf(e[i])&&(u=!0);this.activeCues_=e,c.setCues_(this.activeCues_)}return c},set:function(){}}),e.src?(i.src=e.src,function(t,e){var n={uri:t};(t=sn(t))&&(n.cors=t),f(n,re(this,(function(t,n,o){if(t)return $.error(t,n);var r;e.loaded_=!0,"function"!=typeof h.WebVTT?e.tech_&&(e.tech_.on("vttjsloaded",r=function(){return an(o,e)}),e.tech_.on("vttjserror",(function(){$.error("vttjs failed to load, stopping trying to process "+e.src),e.tech_.off("vttjsloaded",r)}))):an(o,e)})))}(e.src,i)):i.loaded_=!0,s(t,i)}ln.prototype.allowedEvents_={cuechange:"cuechange"},i(pn,hn=g);var hn,un=pn;function pn(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=(e=(r(this,pn),pe(e,{kind:Je[e.kind]||""})),t=s(this,hn.call(this,e))),o=!1;if(O)for(var i in pn.prototype)"constructor"!==i&&(n[i]=pn.prototype[i]);return Object.defineProperty(n,"enabled",{get:function(){return o},set:function(t){"boolean"==typeof t&&t!==o&&(o=t,this.trigger("enabledchange"))}}),e.enabled&&(n.enabled=e.enabled),n.loaded_=!0,s(t,n)}i(yn,dn=g);var dn,fn;g=yn;function yn(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=(e=(r(this,yn),pe(e,{kind:Xe[e.kind]||""})),t=s(this,dn.call(this,e))),o=!1;if(O)for(var i in yn.prototype)"constructor"!==i&&(n[i]=yn.prototype[i]);return Object.defineProperty(n,"selected",{get:function(){return o},set:function(t){"boolean"==typeof t&&t!==o&&(o=t,this.trigger("selectedchange"))}}),e.selected&&(n.selected=e.selected),s(t,n)}function vn(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=(r(this,vn),s(this,fn.call(this))),n=void 0,o=e;if(O)for(var i in o=u.createElement("custom"),vn.prototype)"constructor"!==i&&(o[i]=vn.prototype[i]);var a=new ln(t);return o.kind=a.kind,o.src=a.src,o.srclang=a.language,o.label=a.label,o.default=a.default,Object.defineProperty(o,"readyState",{get:function(){return n}}),Object.defineProperty(o,"track",{get:function(){return a}}),n=0,a.addEventListener("loadeddata",(function(){n=2,o.trigger({type:"load",target:o})})),O?s(e,o):e}i(vn,fn=Qt),(Gn=vn).prototype.allowedEvents_={load:"load"},Gn.NONE=0,Gn.LOADING=1,Gn.LOADED=2,Gn.ERROR=3;var gn={audio:{ListClass:n,TrackClass:un,capitalName:"Audio"},video:{ListClass:m,TrackClass:g,capitalName:"Video"},text:{ListClass:b,TrackClass:ln,capitalName:"Text"}},mn=(Object.keys(gn).forEach((function(t){gn[t].getterName=t+"Tracks",gn[t].privateName=t+"Tracks_"})),{remoteText:{ListClass:b,TrackClass:ln,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:C,TrackClass:Gn,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}}),_n=pe(gn,mn);mn.names=Object.keys(mn),gn.names=Object.keys(gn),_n.names=[].concat(mn.names).concat(gn.names),i(Cn,bn=de),Cn.prototype.triggerSourceset=function(t){var e=this;this.isReady_||this.one("ready",(function(){return e.setTimeout((function(){return e.triggerSourceset(t)}),1)})),this.trigger({src:t,type:"sourceset"})},Cn.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},Cn.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},Cn.prototype.trackProgress=function(t){this.stopTrackingProgress(),this.progressInterval=this.setInterval(re(this,(function(){var t=this.bufferedPercent();this.bufferedPercent_!==t&&this.trigger("progress"),1===(this.bufferedPercent_=t)&&this.stopTrackingProgress()})),500)},Cn.prototype.onDurationChange=function(t){this.duration_=this.duration()},Cn.prototype.buffered=function(){return ge(0,0)},Cn.prototype.bufferedPercent=function(){return me(this.buffered(),this.duration_)},Cn.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},Cn.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},Cn.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},Cn.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval((function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}),250)},Cn.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},Cn.prototype.dispose=function(){this.clearTracks(gn.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),bn.prototype.dispose.call(this)},Cn.prototype.clearTracks=function(t){var e=this;(t=[].concat(t)).forEach((function(t){for(var n=e[t+"Tracks"]()||[],o=n.length;o--;){var r=n[o];"text"===t&&e.removeRemoteTextTrack(r),n.removeTrack(r)}}))},Cn.prototype.cleanupAutoTextTracks=function(){for(var t=this.autoRemoteTextTracks_||[],e=t.length;e--;){var n=t[e];this.removeRemoteTextTrack(n)}},Cn.prototype.reset=function(){},Cn.prototype.error=function(t){return void 0!==t&&(this.error_=new Se(t),this.trigger("error")),this.error_},Cn.prototype.played=function(){return this.hasStarted_?ge(0,0):ge()},Cn.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},Cn.prototype.initTrackListeners=function(){var t=this;gn.names.forEach((function(e){function n(){t.trigger(e+"trackchange")}var o=gn[e],r=t[o.getterName]();r.addEventListener("removetrack",n),r.addEventListener("addtrack",n),t.on("dispose",(function(){r.removeEventListener("removetrack",n),r.removeEventListener("addtrack",n)}))}))},Cn.prototype.addWebVttScript_=function(){var t,e=this;h.WebVTT||(u.body.contains(this.el())?!this.options_["vtt.js"]&&z(y)&&0<Object.keys(y).length?this.trigger("vttjsloaded"):((t=u.createElement("script")).src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.12.4/vtt.min.js",t.onload=function(){e.trigger("vttjsloaded")},t.onerror=function(){e.trigger("vttjserror")},this.on("dispose",(function(){t.onload=null,t.onerror=null})),h.WebVTT=!0,this.el().parentNode.appendChild(t)):this.ready(this.addWebVttScript_))},Cn.prototype.emulateTextTracks=function(){function t(t){return r.addTrack(t.track)}function e(t){return r.removeTrack(t.track)}function n(){s();for(var t=0;t<r.length;t++){var e=r[t];e.removeEventListener("cuechange",s),"showing"===e.mode&&e.addEventListener("cuechange",s)}}var o=this,r=this.textTracks(),i=this.remoteTextTracks(),s=(i.on("addtrack",t),i.on("removetrack",e),this.addWebVttScript_(),function(){return o.trigger("texttrackchange")});n(),r.addEventListener("change",n),r.addEventListener("addtrack",n),r.addEventListener("removetrack",n),this.on("dispose",(function(){i.off("addtrack",t),i.off("removetrack",e),r.removeEventListener("change",n),r.removeEventListener("addtrack",n),r.removeEventListener("removetrack",n);for(var o=0;o<r.length;o++)r[o].removeEventListener("cuechange",s)}))},Cn.prototype.addTextTrack=function(t,e,n){if(t)return function(t,e,n,o,r){var i=4<arguments.length&&void 0!==r?r:{},s=t.textTracks();i.kind=e,n&&(i.label=n),o&&(i.language=o),i.tech=t,i=new _n.text.TrackClass(i);return s.addTrack(i),i}(this,t,e,n);throw new Error("TextTrack kind is required but was not provided")},Cn.prototype.createRemoteTextTrack=function(t){return t=pe(t,{tech:this}),new mn.remoteTextEl.TrackClass(t)},Cn.prototype.addRemoteTextTrack=function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1],o=this.createRemoteTextTrack(e);return!0!==n&&!1!==n&&($.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),n=!0),this.remoteTextTrackEls().addTrackElement_(o),this.remoteTextTracks().addTrack(o.track),!0!==n&&this.ready((function(){return t.autoRemoteTextTracks_.addTrack(o.track)})),o},Cn.prototype.removeRemoteTextTrack=function(t){var e=this.remoteTextTrackEls().getTrackElementByTrack_(t);this.remoteTextTrackEls().removeTrackElement_(e),this.remoteTextTracks().removeTrack(t),this.autoRemoteTextTracks_.removeTrack(t)},Cn.prototype.getVideoPlaybackQuality=function(){return{}},Cn.prototype.setPoster=function(){},Cn.prototype.playsinline=function(){},Cn.prototype.setPlaysinline=function(){},Cn.prototype.canPlayType=function(){return""},Cn.canPlayType=function(){return""},Cn.canPlaySource=function(t,e){return Cn.canPlayType(t.type)},Cn.isTech=function(t){return t.prototype instanceof Cn||t instanceof Cn||t===Cn},Cn.registerTech=function(t,e){if(Cn.techs_||(Cn.techs_={}),!Cn.isTech(e))throw new Error("Tech "+t+" must be a Tech");if(!Cn.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(Cn.canPlaySource)return t=ue(t),Cn.techs_[t]=e,"Tech"!==t&&Cn.defaultTechOrder_.push(t),e;throw new Error("Techs must have a static canPlaySource method on them")},Cn.getTech=function(t){if(t)return t=ue(t),Cn.techs_&&Cn.techs_[t]?Cn.techs_[t]:h&&h.videojs&&h.videojs[t]?($.warn("The "+t+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),h.videojs[t]):void 0};var bn,Tn=Cn;function Cn(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){},n=(r(this,Cn),t.reportTouchActivity=!1,s(this,bn.call(this,null,t,e)));return n.hasStarted_=!1,n.on("playing",(function(){this.hasStarted_=!0})),n.on("loadstart",(function(){this.hasStarted_=!1})),_n.names.forEach((function(e){e=_n[e],t&&t[e.getterName]&&(n[e.privateName]=t[e.getterName])})),n.featuresProgressEvents||n.manualProgressOn(),n.featuresTimeupdateEvents||n.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach((function(e){!1===t["native"+e+"Tracks"]&&(n["featuresNative"+e+"Tracks"]=!1)})),!1===t.nativeCaptions||!1===t.nativeTextTracks?n.featuresNativeTextTracks=!1:!0!==t.nativeCaptions&&!0!==t.nativeTextTracks||(n.featuresNativeTextTracks=!0),n.featuresNativeTextTracks||n.emulateTextTracks(),n.autoRemoteTextTracks_=new _n.text.ListClass,n.initTrackListeners(),t.nativeControlsForTouch||n.emitTapEvents(),n.constructor&&(n.name_=n.constructor.name||"Unknown Tech"),n}_n.names.forEach((function(t){var e=_n[t];Tn.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}})),Tn.prototype.featuresVolumeControl=!0,Tn.prototype.featuresMuteControl=!0,Tn.prototype.featuresFullscreenResize=!1,Tn.prototype.featuresPlaybackRate=!1,Tn.prototype.featuresProgressEvents=!1,Tn.prototype.featuresSourceset=!1,Tn.prototype.featuresTimeupdateEvents=!1,Tn.prototype.featuresNativeTextTracks=!1,Tn.withSourceHandlers=function(t){t.registerSourceHandler=function(e,n){var o=(o=t.sourceHandlers)||(t.sourceHandlers=[]);void 0===n&&(n=o.length),o.splice(n,0,e)},t.canPlayType=function(e){for(var n,o=t.sourceHandlers||[],r=0;r<o.length;r++)if(n=o[r].canPlayType(e))return n;return""},t.selectSourceHandler=function(e,n){for(var o=t.sourceHandlers||[],r=0;r<o.length;r++)if(o[r].canHandleSource(e,n))return o[r];return null},t.canPlaySource=function(e,n){var o=t.selectSourceHandler(e,n);return o?o.canHandleSource(e,n):""},["seekable","seeking","duration"].forEach((function(t){var e=this[t];"function"==typeof e&&(this[t]=function(){return this.sourceHandler_&&this.sourceHandler_[t]?this.sourceHandler_[t].apply(this.sourceHandler_,arguments):e.apply(this,arguments)})}),t.prototype),t.prototype.setSource=function(e){var n=t.selectSourceHandler(e,this.options_);n||(t.nativeSourceHandler?n=t.nativeSourceHandler:$.error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),n!==t.nativeSourceHandler&&(this.currentSource_=e),this.sourceHandler_=n.handleSource(e,this,this.options_),this.on("dispose",this.disposeSourceHandler)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},de.registerComponent("Tech",Tn),Tn.registerTech("Tech",Tn),Tn.defaultTechOrder_=[];var kn={},En={},Sn={};function wn(t,e,n,o){for(var r=3<arguments.length&&void 0!==o?o:null,i="call"+ue(n),s=(i=t.reduce(An(i),r),t),a=n,l=i=(r=i===Sn)?null:e[n](i),c=r,h=s.length-1;0<=h;h--){var u=s[h];u[a]&&u[a](c,l)}return i}var xn={buffered:1,currentTime:1,duration:1,seekable:1,played:1,paused:1},jn={setCurrentTime:1},Pn={play:1,pause:1};function An(t){return function(e,n){return e===Sn?Sn:n[t]?n[t](e):e}}function On(t,e){var n=En[t.id()],o=null;if(null==n)o=e(t),En[t.id()]=[[e,o]];else{for(var r=0;r<n.length;r++){var i=(s=n[r])[0],s=s[1];i===e&&(o=s)}null===o&&(o=e(t),n.push([e,o]))}return o}var Mn={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",mp3:"audio/mpeg",aac:"audio/aac",oga:"audio/ogg",m3u8:"application/x-mpegURL"},Nn=function(){var t=rn(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"");return Mn[t.toLowerCase()]||""};function In(t){var e=Nn(t.src);return!t.type&&e&&(t.type=e),t}i(Fn,Dn=de);var Dn;n=Fn;function Fn(t,e,n){r(this,Fn);var o=pe({createEl:!1},e);o=s(this,Dn.call(this,t,o,n));if(e.playerOptions.sources&&0!==e.playerOptions.sources.length)t.src(e.playerOptions.sources);else for(var i=0,a=e.playerOptions.techOrder;i<a.length;i++){var l=ue(a[i]),c=Tn.getTech(l);if((c=l?c:de.getComponent(l))&&c.isSupported()){t.loadTech_(l);break}}return o}de.registerComponent("MediaLoader",n),i(Rn,Ln=de),Rn.prototype.createEl=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"div",e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};e=H({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},e),"button"===t&&$.error("Creating a ClickableComponent with an HTML element of "+t+" is not supported; use a Button instead."),n=H({role:"button"},n),this.tabIndex_=e.tabIndex,t=Ln.prototype.createEl.call(this,t,e,n);return this.createControlTextEl(t),t},Rn.prototype.dispose=function(){this.controlTextEl_=null,Ln.prototype.dispose.call(this)},Rn.prototype.createControlTextEl=function(t){return this.controlTextEl_=nt("span",{className:"vjs-control-text"},{"aria-live":"polite"}),t&&t.appendChild(this.controlTextEl_),this.controlText(this.controlText_,t),this.controlTextEl_},Rn.prototype.controlText=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.el();if(void 0===t)return this.controlText_||"Need Text";var n=this.localize(t);this.controlText_=t,ot(this.controlTextEl_,n),this.nonIconControl||e.setAttribute("title",n)},Rn.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+Ln.prototype.buildCSSClass.call(this)},Rn.prototype.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur))},Rn.prototype.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur)},Rn.prototype.handleClick=function(t){},Rn.prototype.handleFocus=function(t){Ht(u,"keydown",re(this,this.handleKeyPress))},Rn.prototype.handleKeyPress=function(t){32===t.which||13===t.which?(t.preventDefault(),this.trigger("click")):Ln.prototype.handleKeyPress&&Ln.prototype.handleKeyPress.call(this,t)},Rn.prototype.handleBlur=function(t){Vt(u,"keydown",re(this,this.handleKeyPress))};var Ln;m=Rn;function Rn(t,e){return r(this,Rn),(t=s(this,Ln.call(this,t,e))).emitTapEvents(),t.enable(),t}de.registerComponent("ClickableComponent",m),i(Hn,Bn=m),Hn.prototype.dispose=function(){this.player().off("posterchange",this.update),Bn.prototype.dispose.call(this)},Hn.prototype.createEl=function(){var t=nt("div",{className:"vjs-poster",tabIndex:-1});return D||(this.fallbackImg_=nt("img"),t.appendChild(this.fallbackImg_)),t},Hn.prototype.update=function(t){var e=this.player().poster();this.setSrc(e),e?this.show():this.hide()},Hn.prototype.setSrc=function(t){this.fallbackImg_?this.fallbackImg_.src=t:this.el_.style.backgroundImage=t?'url("'+t+'")':""},Hn.prototype.handleClick=function(t){this.player_.controls()&&(this.player_.paused()?je(this.player_.play()):this.player_.pause())};var Bn;b=Hn;function Hn(t,e){return r(this,Hn),(e=s(this,Bn.call(this,t,e))).update(),t.on("posterchange",re(e,e.update)),e}de.registerComponent("PosterImage",b);var Vn="#222",zn={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function Wn(t,e){var n=void 0;if(4===t.length)n=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else{if(7!==t.length)throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");n=t.slice(1)}return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+e+")"}function Un(t,e,n){try{t.style[e]=n}catch(t){}}i(qn,Kn=de),qn.prototype.preselectTrack=function(){for(var t={captions:1,subtitles:1},e=this.player_.textTracks(),n=this.player_.cache_.selectedLanguage,o=void 0,r=void 0,i=void 0,s=0;s<e.length;s++){var a=e[s];n&&n.enabled&&n.language===a.language?i=a.kind!==n.kind&&i||a:n&&!n.enabled?r=o=i=null:a.default&&("descriptions"!==a.kind||o?a.kind in t&&!r&&(r=a):o=a)}i?i.mode="showing":r?r.mode="showing":o&&(o.mode="showing")},qn.prototype.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},qn.prototype.createEl=function(){return Kn.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},qn.prototype.clearDisplay=function(){"function"==typeof h.WebVTT&&h.WebVTT.processCues(h,[],this.el_)},qn.prototype.updateDisplay=function(){for(var t=this.player_.textTracks(),e=(this.clearDisplay(),null),n=null,o=t.length;o--;){var r=t[o];"showing"===r.mode&&("descriptions"===r.kind?e=r:n=r)}n?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(n)):e&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(e))},qn.prototype.updateForTrack=function(t){if("function"==typeof h.WebVTT&&t.activeCues){for(var e=[],n=0;n<t.activeCues.length;n++)e.push(t.activeCues[n]);if(h.WebVTT.processCues(h,e,this.el_),this.player_.textTrackSettings)for(var o=this.player_.textTrackSettings.getValues(),r=e.length;r--;){var i,s=e[r];s&&(s=s.displayState,o.color&&(s.firstChild.style.color=o.color),o.textOpacity&&Un(s.firstChild,"color",Wn(o.color||"#fff",o.textOpacity)),o.backgroundColor&&(s.firstChild.style.backgroundColor=o.backgroundColor),o.backgroundOpacity&&Un(s.firstChild,"backgroundColor",Wn(o.backgroundColor||"#000",o.backgroundOpacity)),o.windowColor&&(o.windowOpacity?Un(s,"backgroundColor",Wn(o.windowColor,o.windowOpacity)):s.style.backgroundColor=o.windowColor),o.edgeStyle&&("dropshadow"===o.edgeStyle?s.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px "+Vn:"raised"===o.edgeStyle?s.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px "+Vn:"depressed"===o.edgeStyle?s.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px "+Vn:"uniform"===o.edgeStyle&&(s.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px "+Vn)),o.fontPercent&&1!==o.fontPercent&&(i=h.parseFloat(s.style.fontSize),s.style.fontSize=i*o.fontPercent+"px",s.style.height="auto",s.style.top="auto",s.style.bottom="2px"),o.fontFamily)&&"default"!==o.fontFamily&&("small-caps"===o.fontFamily?s.firstChild.style.fontVariant="small-caps":s.firstChild.style.fontFamily=zn[o.fontFamily])}}};var Kn;C=qn;function qn(t,e,n){return r(this,qn),e=s(this,Kn.call(this,t,e,n)),t.on("loadstart",re(e,e.toggleDisplay)),t.on("texttrackchange",re(e,e.updateDisplay)),t.on("loadstart",re(e,e.preselectTrack)),t.ready(re(e,(function(){if(t.tech_&&t.tech_.featuresNativeTextTracks)this.hide();else{t.on("fullscreenchange",re(this,this.updateDisplay));for(var e=this.options_.playerOptions.tracks||[],n=0;n<e.length;n++)this.player_.addRemoteTextTrack(e[n],!0);this.preselectTrack()}}))),e}de.registerComponent("TextTrackDisplay",C),i(Yn,$n=de),Yn.prototype.createEl=function(){var t=this.player_.isAudio(),e=(t=this.localize(t?"Audio Player":"Video Player"),t=nt("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[t])}),$n.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"}));return e.appendChild(t),e};var $n,Gn=Yn;function Yn(){return r(this,Yn),s(this,$n.apply(this,arguments))}de.registerComponent("LoadingSpinner",Gn),i(Zn,Xn=m),Zn.prototype.createEl=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};t="button",e=H({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},e),n=H({type:"button"},n),e=de.prototype.createEl.call(this,t,e,n);return this.createControlTextEl(e),e},Zn.prototype.addChild=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=this.constructor.name;return $.warn("Adding an actionable (user controllable) child to a Button ("+n+") is not supported; use a ClickableComponent instead."),de.prototype.addChild.call(this,t,e)},Zn.prototype.enable=function(){Xn.prototype.enable.call(this),this.el_.removeAttribute("disabled")},Zn.prototype.disable=function(){Xn.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},Zn.prototype.handleKeyPress=function(t){32!==t.which&&13!==t.which&&Xn.prototype.handleKeyPress.call(this,t)};var Xn,Jn,Qn=Zn;function Zn(){return r(this,Zn),s(this,Xn.apply(this,arguments))}function to(t,e){return r(this,to),(t=s(this,Jn.call(this,t,e))).mouseused_=!1,t.on("mousedown",t.handleMouseDown),t}de.registerComponent("Button",Qn),i(to,Jn=Qn),to.prototype.buildCSSClass=function(){return"vjs-big-play-button"},to.prototype.handleClick=function(t){var e,n=this.player_.play();this.mouseused_&&t.clientX&&t.clientY?je(n):(t=this.player_.getChild("controlBar"),(e=t&&t.getChild("playToggle"))?(t=function(){return e.focus()},xe(n)?n.then(t,(function(){})):this.setTimeout(t,1)):this.player_.focus())},to.prototype.handleKeyPress=function(t){this.mouseused_=!1,Jn.prototype.handleKeyPress.call(this,t)},to.prototype.handleMouseDown=function(t){this.mouseused_=!0},(n=to).prototype.controlText_="Play Video",de.registerComponent("BigPlayButton",n),i(oo,eo=Qn),oo.prototype.buildCSSClass=function(){return"vjs-close-button "+eo.prototype.buildCSSClass.call(this)},oo.prototype.handleClick=function(t){this.trigger({type:"close",bubbles:!1})};var eo,no;b=oo;function oo(t,e){return r(this,oo),(t=s(this,eo.call(this,t,e))).controlText(e&&e.controlText||t.localize("Close")),t}function ro(t,e){return r(this,ro),(e=s(this,no.call(this,t,e))).on(t,"play",e.handlePlay),e.on(t,"pause",e.handlePause),e.on(t,"ended",e.handleEnded),e}function io(t,e){t=t<0?0:t;var n=Math.floor(t%60),o=Math.floor(t/60%60),r=Math.floor(t/3600),i=Math.floor(e/60%60);e=Math.floor(e/3600);return(r=0<(r=isNaN(t)||t===1/0?o=n="-":r)||0<e?r+":":"")+(o=((r||10<=i)&&o<10?"0"+o:o)+":")+(n<10?"0"+n:n)}de.registerComponent("CloseButton",b),i(ro,no=Qn),ro.prototype.buildCSSClass=function(){return"vjs-play-control "+no.prototype.buildCSSClass.call(this)},ro.prototype.handleClick=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},ro.prototype.handleSeeked=function(t){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(t):this.handlePlay(t)},ro.prototype.handlePlay=function(t){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},ro.prototype.handlePause=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},ro.prototype.handleEnded=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)},(C=ro).prototype.controlText_="Play",de.registerComponent("PlayToggle",C);var so,ao,lo,co=io;function ho(t){return co(t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:t)}function uo(t,e){return r(this,uo),(e=s(this,so.call(this,t,e))).throttledUpdateContent=Jt(re(e,e.updateContent),25),e.on(t,"timeupdate",e.throttledUpdateContent),e}function po(t,e){return r(this,po),(e=s(this,ao.call(this,t,e))).on(t,"ended",e.handleEnded),e}function fo(t,e){return r(this,fo),(e=s(this,lo.call(this,t,e))).on(t,"durationchange",e.updateContent),e.on(t,"loadedmetadata",e.throttledUpdateContent),e}i(uo,so=de),uo.prototype.createEl=function(t){var e=this.buildCSSClass(),n=so.prototype.createEl.call(this,"div",{className:e+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text">'+this.localize(this.labelText_)+"</span>"});return this.contentEl_=nt("span",{className:e+"-display"},{"aria-live":"off"}),this.updateTextNode_(),n.appendChild(this.contentEl_),n},uo.prototype.dispose=function(){this.contentEl_=null,this.textNode_=null,so.prototype.dispose.call(this)},uo.prototype.updateTextNode_=function(){if(this.contentEl_){for(;this.contentEl_.firstChild;)this.contentEl_.removeChild(this.contentEl_.firstChild);this.textNode_=u.createTextNode(this.formattedTime_||this.formatTime_(0)),this.contentEl_.appendChild(this.textNode_)}},uo.prototype.formatTime_=function(t){return ho(t)},uo.prototype.updateFormattedTime_=function(t){(t=this.formatTime_(t))!==this.formattedTime_&&(this.formattedTime_=t,this.requestAnimationFrame(this.updateTextNode_))},uo.prototype.updateContent=function(t){},(Gn=uo).prototype.labelText_="Time",Gn.prototype.controlText_="Time",de.registerComponent("TimeDisplay",Gn),i(po,ao=Gn),po.prototype.buildCSSClass=function(){return"vjs-current-time"},po.prototype.updateContent=function(t){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateFormattedTime_(e)},po.prototype.handleEnded=function(t){this.player_.duration()&&this.updateFormattedTime_(this.player_.duration())},(n=po).prototype.labelText_="Current Time",n.prototype.controlText_="Current Time",de.registerComponent("CurrentTimeDisplay",n),i(fo,lo=Gn),fo.prototype.buildCSSClass=function(){return"vjs-duration"},fo.prototype.updateContent=function(t){var e=this.player_.duration();e&&this.duration_!==e&&(this.duration_=e,this.updateFormattedTime_(e))},(b=fo).prototype.labelText_="Duration",b.prototype.controlText_="Duration",de.registerComponent("DurationDisplay",b),i(go,yo=de),go.prototype.createEl=function(){return yo.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})};var yo,vo;C=go;function go(){return r(this,go),s(this,yo.apply(this,arguments))}function mo(t,e){return r(this,mo),(e=s(this,vo.call(this,t,e))).on(t,"durationchange",e.throttledUpdateContent),e.on(t,"ended",e.handleEnded),e}de.registerComponent("TimeDivider",C),i(mo,vo=Gn),mo.prototype.buildCSSClass=function(){return"vjs-remaining-time"},mo.prototype.formatTime_=function(t){return"-"+vo.prototype.formatTime_.call(this,t)},mo.prototype.updateContent=function(t){this.player_.duration()&&(this.player_.remainingTimeDisplay?this.updateFormattedTime_(this.player_.remainingTimeDisplay()):this.updateFormattedTime_(this.player_.remainingTime()))},mo.prototype.handleEnded=function(t){this.player_.duration()&&this.updateFormattedTime_(0)},(n=mo).prototype.labelText_="Remaining Time",n.prototype.controlText_="Remaining Time",de.registerComponent("RemainingTimeDisplay",n),i(bo,_o=de),bo.prototype.createEl=function(){var t=_o.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=nt("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"</span>"+this.localize("LIVE")},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},bo.prototype.dispose=function(){this.contentEl_=null,_o.prototype.dispose.call(this)},bo.prototype.updateShowing=function(t){this.player().duration()===1/0?this.show():this.hide()};var _o;b=bo;function bo(t,e){return r(this,bo),(t=s(this,_o.call(this,t,e))).updateShowing(),t.on(t.player(),"durationchange",t.updateShowing),t}de.registerComponent("LiveDisplay",b),i(Co,To=de),Co.prototype.enabled=function(){return this.enabled_},Co.prototype.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},Co.prototype.disable=function(){var t;this.enabled()&&(t=this.bar.el_.ownerDocument,this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1)},Co.prototype.createEl=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return e.className=e.className+" vjs-slider",e=H({tabIndex:0},e),n=H({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},n),To.prototype.createEl.call(this,t,e,n)},Co.prototype.handleMouseDown=function(t){var e=this.bar.el_.ownerDocument;"mousedown"===t.type&&t.preventDefault(),"touchstart"!==t.type||P||t.preventDefault(),ft(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(e,"mousemove",this.handleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchmove",this.handleMouseMove),this.on(e,"touchend",this.handleMouseUp),this.handleMouseMove(t)},Co.prototype.handleMouseMove=function(t){},Co.prototype.handleMouseUp=function(){var t=this.bar.el_.ownerDocument;yt(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.update()},Co.prototype.update=function(){if(this.el_){var t,e=this.getPercent(),n=this.bar;if(n)return t=(100*(e="number"!=typeof e||e!=e||e<0||e===1/0?0:e)).toFixed(2)+"%",n=n.el().style,this.vertical()?n.height=t:n.width=t,e}},Co.prototype.calculateDistance=function(t){return t=mt(this.el_,t),this.vertical()?t.y:t.x},Co.prototype.handleFocus=function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},Co.prototype.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepBack()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepForward())},Co.prototype.handleBlur=function(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},Co.prototype.handleClick=function(t){t.stopImmediatePropagation(),t.preventDefault()},Co.prototype.vertical=function(t){if(void 0===t)return this.vertical_||!1;this.vertical_=!!t,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")};var To;C=Co;function Co(t,e){return r(this,Co),(t=s(this,To.call(this,t,e))).bar=t.getChild(t.options_.barName),t.vertical(!!t.options_.vertical),t.enable(),t}de.registerComponent("Slider",C),i(Eo,ko=de),Eo.prototype.createEl=function(){return ko.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},Eo.prototype.dispose=function(){this.partEls_=null,ko.prototype.dispose.call(this)},Eo.prototype.update=function(t){function e(t,e){return 100*(1<=(t=t/e||0)?1:t)+"%"}var n=this.player_.buffered(),o=this.player_.duration(),r=this.player_.bufferedEnd(),i=this.partEls_;this.el_.style.width=e(r,o);for(var s=0;s<n.length;s++){var a=n.start(s),l=n.end(s),c=i[s];c||(c=this.el_.appendChild(nt()),i[s]=c),c.style.left=e(a,r),c.style.width=e(l-a,r)}for(var h=i.length;h>n.length;h--)this.el_.removeChild(i[h-1]);i.length=n.length};var ko;Gn=Eo;function Eo(t,e){return r(this,Eo),(e=s(this,ko.call(this,t,e))).partEls_=[],e.on(t,"progress",e.update),e}de.registerComponent("LoadProgressBar",Gn),i(Oo,So=de),Oo.prototype.createEl=function(){return So.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"})},Oo.prototype.update=function(t,e,n){var o,r=vt(this.el_),i=vt(this.player_.el());e=t.width*e;i&&r&&(o=t.left-i.left+e,e=t.width-e+(i.right-t.right),o<(i=r.width/2)?i+=i-o:e<i&&(i=e),i<0?i=0:i>r.width&&(i=r.width),this.el_.style.right="-"+i+"px",ot(this.el_,n))};var So,wo,xo,jo,Po,Ao;n=Oo;function Oo(){return r(this,Oo),s(this,So.apply(this,arguments))}function Mo(){return r(this,Mo),s(this,wo.apply(this,arguments))}function No(t,e){return r(this,No),(t=s(this,xo.call(this,t,e))).update=Jt(re(t,t.update),25),t}function Io(t,e){return r(this,Io),(t=s(this,jo.call(this,t,e))).setEventHandlers_(),t}function Do(t,e){return r(this,Do),(t=s(this,Po.call(this,t,e))).handleMouseMove=Jt(re(t,t.handleMouseMove),25),t.throttledHandleMouseSeek=Jt(re(t,t.handleMouseSeek),25),t.enable(),t}function Fo(t,e){return r(this,Fo),(e=s(this,Ao.call(this,t,e))).on(t,"fullscreenchange",e.handleFullscreenChange),!1===u[_e.fullscreenEnabled]&&e.disable(),e}de.registerComponent("TimeTooltip",n),i(Mo,wo=de),Mo.prototype.createEl=function(){return wo.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},Mo.prototype.update=function(t,e){var n=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame((function(){var o=ho(o=n.player_.scrubbing()?n.player_.getCache().currentTime:n.player_.currentTime(),n.player_.duration()),r=n.getChild("timeTooltip");r&&r.update(t,e,o)}))},(b=Mo).prototype.options_={children:[]},M&&!(8<M)||T||k||b.prototype.options_.children.push("timeTooltip"),de.registerComponent("PlayProgressBar",b),i(No,xo=de),No.prototype.createEl=function(){return xo.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},No.prototype.update=function(t,e){var n=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame((function(){var o=n.player_.duration();o=ho(e*o,o);n.el_.style.left=t.width*e+"px",n.getChild("timeTooltip").update(t,e,o)}))},(Gn=No).prototype.options_={children:["timeTooltip"]},de.registerComponent("MouseTimeDisplay",Gn),i(Io,jo=C),Io.prototype.setEventHandlers_=function(){var t=this;this.update=Jt(re(this,this.update),30),this.on(this.player_,"timeupdate",this.update),this.on(this.player_,"ended",this.handleEnded),this.updateInterval=null,this.on(this.player_,["playing"],(function(){t.clearInterval(t.updateInterval),t.updateInterval=t.setInterval((function(){t.requestAnimationFrame((function(){t.update()}))}),30)})),this.on(this.player_,["ended","pause","waiting"],(function(){t.clearInterval(t.updateInterval)})),this.on(this.player_,["timeupdate","ended"],this.update)},Io.prototype.createEl=function(){return jo.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},Io.prototype.update_=function(t,e){var n=this.player_.duration();this.el_.setAttribute("aria-valuenow",(100*e).toFixed(2)),this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[ho(t,n),ho(n,n)],"{1} of {2}")),this.bar.update(vt(this.el_),e)},Io.prototype.update=function(t){var e=jo.prototype.update.call(this);return this.update_(this.getCurrentTime_(),e),e},Io.prototype.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},Io.prototype.handleEnded=function(t){this.update_(this.player_.duration(),1)},Io.prototype.getPercent=function(){var t=this.getCurrentTime_()/this.player_.duration();return 1<=t?1:t},Io.prototype.handleMouseDown=function(t){Et(t)&&(t.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),jo.prototype.handleMouseDown.call(this,t))},Io.prototype.handleMouseMove=function(t){Et(t)&&((t=this.calculateDistance(t)*this.player_.duration())===this.player_.duration()&&(t-=.1),this.player_.currentTime(t))},Io.prototype.enable=function(){jo.prototype.enable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.show()},Io.prototype.disable=function(){jo.prototype.disable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.hide()},Io.prototype.handleMouseUp=function(t){jo.prototype.handleMouseUp.call(this,t),t&&t.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying&&je(this.player_.play())},Io.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},Io.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},Io.prototype.handleAction=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},Io.prototype.handleKeyPress=function(t){32===t.which||13===t.which?(t.preventDefault(),this.handleAction(t)):jo.prototype.handleKeyPress&&jo.prototype.handleKeyPress.call(this,t)},(n=Io).prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},M&&!(8<M)||T||k||n.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),n.prototype.playerEvent="timeupdate",de.registerComponent("SeekBar",n),i(Do,Po=de),Do.prototype.createEl=function(){return Po.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},Do.prototype.handleMouseMove=function(t){var e,n,o=this.getChild("seekBar");o&&(e=o.getChild("mouseTimeDisplay"),n=vt(o=o.el()),1<(o=mt(o,t).x)?o=1:o<0&&(o=0),e)&&e.update(n,o)},Do.prototype.handleMouseSeek=function(t){var e=this.getChild("seekBar");e&&e.handleMouseMove(t)},Do.prototype.enabled=function(){return this.enabled_},Do.prototype.disable=function(){this.children().forEach((function(t){return t.disable&&t.disable()})),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},Do.prototype.enable=function(){this.children().forEach((function(t){return t.enable&&t.enable()})),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},Do.prototype.handleMouseDown=function(t){var e=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(t),this.on(e,"mousemove",this.throttledHandleMouseSeek),this.on(e,"touchmove",this.throttledHandleMouseSeek),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},Do.prototype.handleMouseUp=function(t){var e=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseUp(t),this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},(b=Do).prototype.options_={children:["seekBar"]},de.registerComponent("ProgressControl",b),i(Fo,Ao=Qn),Fo.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+Ao.prototype.buildCSSClass.call(this)},Fo.prototype.handleFullscreenChange=function(t){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},Fo.prototype.handleClick=function(t){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},(Gn=Fo).prototype.controlText_="Fullscreen",de.registerComponent("FullscreenToggle",Gn),i(zo,Lo=de),zo.prototype.createEl=function(){return Lo.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})};var Lo,Ro,Bo,Ho,Vo;n=zo;function zo(){return r(this,zo),s(this,Lo.apply(this,arguments))}function Wo(t,e){r(this,Wo);var n=s(this,Ro.call(this,t,e));return n.on("slideractive",n.updateLastVolume_),n.on(t,"volumechange",n.updateARIAAttributes),t.ready((function(){return n.updateARIAAttributes()})),n}function Uo(t){var e,n,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=(r(this,Uo),o.vertical=o.vertical||!1,void 0!==o.volumeBar&&!z(o.volumeBar)||(o.volumeBar=o.volumeBar||{},o.volumeBar.vertical=o.vertical),s(this,Bo.call(this,t,o)));return e=i,(n=t).tech_&&!n.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(n,"loadstart",(function(){n.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})),i.throttledHandleMouseMove=Jt(re(i,i.handleMouseMove),25),i.on("mousedown",i.handleMouseDown),i.on("touchstart",i.handleMouseDown),i.on(i.volumeBar,["focus","slideractive"],(function(){i.volumeBar.addClass("vjs-slider-active"),i.addClass("vjs-slider-active"),i.trigger("slideractive")})),i.on(i.volumeBar,["blur","sliderinactive"],(function(){i.volumeBar.removeClass("vjs-slider-active"),i.removeClass("vjs-slider-active"),i.trigger("sliderinactive")})),i}function Ko(t,e){r(this,Ko);var n,o;e=s(this,Ho.call(this,t,e));return n=e,(o=t).tech_&&!o.tech_.featuresMuteControl&&n.addClass("vjs-hidden"),n.on(o,"loadstart",(function(){o.tech_.featuresMuteControl?n.removeClass("vjs-hidden"):n.addClass("vjs-hidden")})),e.on(t,["loadstart","volumechange"],e.update),e}function qo(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return(e=(r(this,qo),void 0!==e.inline?e.inline=e.inline:e.inline=!0,void 0!==e.volumeControl&&!z(e.volumeControl)||(e.volumeControl=e.volumeControl||{},e.volumeControl.vertical=!e.inline),s(this,Vo.call(this,t,e)))).on(t,["loadstart"],e.volumePanelState_),e.on(e.volumeControl,["slideractive"],e.sliderActive_),e.on(e.volumeControl,["sliderinactive"],e.sliderInactive_),e}de.registerComponent("VolumeLevel",n),i(Wo,Ro=C),Wo.prototype.createEl=function(){return Ro.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},Wo.prototype.handleMouseDown=function(t){Et(t)&&Ro.prototype.handleMouseDown.call(this,t)},Wo.prototype.handleMouseMove=function(t){Et(t)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(t)))},Wo.prototype.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},Wo.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},Wo.prototype.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},Wo.prototype.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},Wo.prototype.updateARIAAttributes=function(t){var e=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",e),this.el_.setAttribute("aria-valuetext",e+"%")},Wo.prototype.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},Wo.prototype.updateLastVolume_=function(){var t=this,e=this.player_.volume();this.one("sliderinactive",(function(){0===t.player_.volume()&&t.player_.lastVolume_(e)}))},(b=Wo).prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},b.prototype.playerEvent="volumechange",de.registerComponent("VolumeBar",b),i(Uo,Bo=de),Uo.prototype.createEl=function(){var t="vjs-volume-horizontal";return this.options_.vertical&&(t="vjs-volume-vertical"),Bo.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+t})},Uo.prototype.handleMouseDown=function(t){var e=this.el_.ownerDocument;this.on(e,"mousemove",this.throttledHandleMouseMove),this.on(e,"touchmove",this.throttledHandleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},Uo.prototype.handleMouseUp=function(t){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseMove),this.off(e,"touchmove",this.throttledHandleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},Uo.prototype.handleMouseMove=function(t){this.volumeBar.handleMouseMove(t)},(Gn=Uo).prototype.options_={children:["volumeBar"]},de.registerComponent("VolumeControl",Gn),i(Ko,Ho=Qn),Ko.prototype.buildCSSClass=function(){return"vjs-mute-control "+Ho.prototype.buildCSSClass.call(this)},Ko.prototype.handleClick=function(t){var e=this.player_.volume(),n=this.player_.lastVolume_();0===e?(this.player_.volume(n<.1?.1:n),this.player_.muted(!1)):this.player_.muted(!this.player_.muted())},Ko.prototype.update=function(t){this.updateIcon_(),this.updateControlText_()},Ko.prototype.updateIcon_=function(){var t=this.player_.volume(),e=3;T&&this.player_.muted(this.player_.tech_.el_.muted),0===t||this.player_.muted()?e=0:t<.33?e=1:t<.67&&(e=2);for(var n=0;n<4;n++)at(this.el_,"vjs-vol-"+n);st(this.el_,"vjs-vol-"+e)},Ko.prototype.updateControlText_=function(){var t=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==t&&this.controlText(t)},(n=Ko).prototype.controlText_="Mute",de.registerComponent("MuteToggle",n),i(qo,Vo=de),qo.prototype.sliderActive_=function(){this.addClass("vjs-slider-active")},qo.prototype.sliderInactive_=function(){this.removeClass("vjs-slider-active")},qo.prototype.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},qo.prototype.createEl=function(){var t="vjs-volume-panel-horizontal";return this.options_.inline||(t="vjs-volume-panel-vertical"),Vo.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+t})},(C=qo).prototype.options_={children:["muteToggle","volumeControl"]},de.registerComponent("VolumePanel",C),i(Yo,$o=de),Yo.prototype.addItem=function(t){this.addChild(t),t.on("click",re(this,(function(e){this.menuButton_&&(this.menuButton_.unpressButton(),"CaptionSettingsMenuItem"!==t.name())&&this.menuButton_.focus()})))},Yo.prototype.createEl=function(){var t=this.options_.contentElType||"ul";return(t=(this.contentEl_=nt(t,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu"),$o.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"}))).appendChild(this.contentEl_),Ht(t,"click",(function(t){t.preventDefault(),t.stopImmediatePropagation()})),t},Yo.prototype.dispose=function(){this.contentEl_=null,$o.prototype.dispose.call(this)},Yo.prototype.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepForward()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepBack())},Yo.prototype.stepForward=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_+1),this.focus(t)},Yo.prototype.stepBack=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_-1),this.focus(t)},Yo.prototype.focus=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=this.children().slice();e.length&&e[0].className&&/vjs-menu-title/.test(e[0].className)&&e.shift(),0<e.length&&(t<0?t=0:t>=e.length&&(t=e.length-1),e[this.focusedChild_=t].el_.focus())};var $o,Go=Yo;function Yo(t,e){return r(this,Yo),t=s(this,$o.call(this,t,e)),e&&(t.menuButton_=e.menuButton),t.focusedChild_=-1,t.on("keydown",t.handleKeyPress),t}de.registerComponent("Menu",Go),i(Jo,Xo=de),Jo.prototype.update=function(){var t=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=t,this.addChild(t),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},Jo.prototype.createMenu=function(){var t,e=new Go(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title&&(t=nt("li",{className:"vjs-menu-title",innerHTML:ue(this.options_.title),tabIndex:-1}),this.hideThreshold_+=1,e.children_.unshift(t),rt(t,e.contentEl())),this.items=this.createItems(),this.items)for(var n=0;n<this.items.length;n++)e.addItem(this.items[n]);return e},Jo.prototype.createItems=function(){},Jo.prototype.createEl=function(){return Xo.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},Jo.prototype.buildWrapperCSSClass=function(){var t="vjs-menu-button",e=(!0===this.options_.inline?t+="-inline":t+="-popup",Qn.prototype.buildCSSClass());return"vjs-menu-button "+t+" "+e+" "+Xo.prototype.buildCSSClass.call(this)},Jo.prototype.buildCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+Xo.prototype.buildCSSClass.call(this)},Jo.prototype.controlText=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.menuButton_.el();return this.menuButton_.controlText(t,e)},Jo.prototype.handleClick=function(t){this.one(this.menu.contentEl(),"mouseleave",re(this,(function(t){this.unpressButton(),this.el_.blur()}))),this.buttonPressed_?this.unpressButton():this.pressButton()},Jo.prototype.focus=function(){this.menuButton_.focus()},Jo.prototype.blur=function(){this.menuButton_.blur()},Jo.prototype.handleFocus=function(){Ht(u,"keydown",re(this,this.handleKeyPress))},Jo.prototype.handleBlur=function(){Vt(u,"keydown",re(this,this.handleKeyPress))},Jo.prototype.handleKeyPress=function(t){27===t.which||9===t.which?(this.buttonPressed_&&this.unpressButton(),9!==t.which&&(t.preventDefault(),this.menuButton_.el_.focus())):38!==t.which&&40!==t.which||this.buttonPressed_||(this.pressButton(),t.preventDefault())},Jo.prototype.handleSubmenuKeyPress=function(t){27!==t.which&&9!==t.which||(this.buttonPressed_&&this.unpressButton(),9!==t.which&&(t.preventDefault(),this.menuButton_.el_.focus()))},Jo.prototype.pressButton=function(){this.enabled_&&(this.buttonPressed_=!0,this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),T&&tt()||this.menu.focus())},Jo.prototype.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},Jo.prototype.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},Jo.prototype.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()};var Xo;b=Jo;function Jo(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=(r(this,Jo),s(this,Xo.call(this,t,e)));n.menuButton_=new Qn(t,e),n.menuButton_.controlText(n.controlText_),n.menuButton_.el_.setAttribute("aria-haspopup","true"),e=Qn.prototype.buildCSSClass();return n.menuButton_.el_.className=n.buildCSSClass()+" "+e,n.menuButton_.removeClass("vjs-control"),n.addChild(n.menuButton_),n.update(),n.enabled_=!0,n.on(n.menuButton_,"tap",n.handleClick),n.on(n.menuButton_,"click",n.handleClick),n.on(n.menuButton_,"focus",n.handleFocus),n.on(n.menuButton_,"blur",n.handleBlur),n.on("keydown",n.handleSubmenuKeyPress),n}de.registerComponent("MenuButton",b),i(Zo,Qo=b);var Qo;Gn=Zo;function Zo(t,e){r(this,Zo);var n,o=e.tracks;return(t=s(this,Qo.call(this,t,e))).items.length<=1&&t.hide(),o?(n=re(t,t.update),o.addEventListener("removetrack",n),o.addEventListener("addtrack",n),t.player_.on("ready",n),t.player_.on("dispose",(function(){o.removeEventListener("removetrack",n),o.removeEventListener("addtrack",n)})),t):s(t)}de.registerComponent("TrackButton",Gn),i(er,tr=m),er.prototype.createEl=function(t,e,n){return this.nonIconControl=!0,tr.prototype.createEl.call(this,"li",H({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},e),n)},er.prototype.handleClick=function(t){this.selected(!0)},er.prototype.selected=function(t){this.selectable&&(t?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))};var tr;n=er;function er(t,e){return r(this,er),(t=s(this,tr.call(this,t,e))).selectable=e.selectable,t.isSelected_=e.selected||!1,t.multiSelectable=e.multiSelectable,t.selected(t.isSelected_),t.selectable?t.multiSelectable?t.el_.setAttribute("role","menuitemcheckbox"):t.el_.setAttribute("role","menuitemradio"):t.el_.setAttribute("role","menuitem"),t}de.registerComponent("MenuItem",n),i(rr,nr=n),rr.prototype.handleClick=function(t){var e=this.track.kind,n=this.track.kinds,o=this.player_.textTracks();n=n||[e];if(nr.prototype.handleClick.call(this,t),o)for(var r=0;r<o.length;r++){var i=o[r];i===this.track&&-1<n.indexOf(i.kind)?"showing"!==i.mode&&(i.mode="showing"):"disabled"!==i.mode&&(i.mode="disabled")}},rr.prototype.handleTracksChange=function(t){var e="showing"===this.track.mode;e!==this.isSelected_&&this.selected(e)},rr.prototype.handleSelectedLanguageChange=function(t){var e;"showing"!==this.track.mode||(e=this.player_.cache_.selectedLanguage)&&e.enabled&&e.language===this.track.language&&e.kind!==this.track.kind||(this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind})},rr.prototype.dispose=function(){this.track=null,nr.prototype.dispose.call(this)};var nr,or=rr;function rr(t,e){function n(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];c.handleTracksChange.apply(c,e)}function o(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];c.handleSelectedLanguageChange.apply(c,e)}r(this,rr);var i,a=e.track,l=t.textTracks(),c=(e.label=a.label||a.language||"Unknown",e.selected="showing"===a.mode,s(this,nr.call(this,t,e)));return c.track=a,t.on(["loadstart","texttrackchange"],n),l.addEventListener("change",n),l.addEventListener("selectedlanguagechange",o),c.on("dispose",(function(){t.off(["loadstart","texttrackchange"],n),l.removeEventListener("change",n),l.removeEventListener("selectedlanguagechange",o)})),void 0===l.onchange&&(i=void 0,c.on(["tap","click"],(function(){if("object"!==L(h.Event))try{i=new h.Event("change")}catch(t){}i||(i=u.createEvent("Event")).initEvent("change",!0,!0),l.dispatchEvent(i)}))),c.handleTracksChange(),c}de.registerComponent("TextTrackMenuItem",or),i(ar,ir=or),ar.prototype.handleTracksChange=function(t){for(var e=this.player().textTracks(),n=!0,o=0,r=e.length;o<r;o++){var i=e[o];if(-1<this.options_.kinds.indexOf(i.kind)&&"showing"===i.mode){n=!1;break}}n!==this.isSelected_&&this.selected(n)},ar.prototype.handleSelectedLanguageChange=function(t){for(var e=this.player().textTracks(),n=!0,o=0,r=e.length;o<r;o++){var i=e[o];if(-1<["captions","descriptions","subtitles"].indexOf(i.kind)&&"showing"===i.mode){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})};var ir,sr=ar;function ar(t,e){return r(this,ar),e.track={player:t,kind:e.kind,kinds:e.kinds,default:!1,mode:"disabled"},e.kinds||(e.kinds=[e.kind]),e.label?e.track.label=e.label:e.track.label=e.kinds.join(" and ")+" off",e.selectable=!0,e.multiSelectable=!1,s(this,ir.call(this,t,e))}de.registerComponent("OffTextTrackMenuItem",sr),i(cr,lr=Gn),cr.prototype.createItems=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:or,n=void 0,o=(this.label_&&(n=this.label_+" off"),t.push(new sr(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1,this.player_.textTracks());Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var r=0;r<o.length;r++){var i,s=o[r];-1<this.kinds_.indexOf(s.kind)&&((i=new e(this.player_,{track:s,selectable:!0,multiSelectable:!1})).addClass("vjs-"+s.kind+"-menu-item"),t.push(i))}return t};var lr;C=cr;function cr(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return r(this,cr),e.tracks=t.textTracks(),s(this,lr.call(this,t,e))}de.registerComponent("TextTrackButton",C),i(yr,hr=n),yr.prototype.handleClick=function(t){hr.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},yr.prototype.update=function(t){var e=this.cue,n=this.player_.currentTime();this.selected(e.startTime<=n&&n<e.endTime)};var hr,ur,pr,dr,fr=yr;function yr(t,e){r(this,yr);var n=e.track,o=e.cue,i=t.currentTime();return(i=(e.selectable=!0,e.multiSelectable=!1,e.label=o.text,e.selected=o.startTime<=i&&i<o.endTime,s(this,hr.call(this,t,e)))).track=n,i.cue=o,n.addEventListener("cuechange",re(i,i.update)),i}function vr(t,e,n){return r(this,vr),s(this,ur.call(this,t,e,n))}function gr(t,e,n){r(this,gr);e=s(this,pr.call(this,t,e,n));var o=t.textTracks(),i=re(e,e.handleTracksChange);return o.addEventListener("change",i),e.on("dispose",(function(){o.removeEventListener("change",i)})),e}function mr(t,e,n){return r(this,mr),s(this,dr.call(this,t,e,n))}de.registerComponent("ChaptersTrackMenuItem",fr),i(vr,ur=C),vr.prototype.buildCSSClass=function(){return"vjs-chapters-button "+ur.prototype.buildCSSClass.call(this)},vr.prototype.buildWrapperCSSClass=function(){return"vjs-chapters-button "+ur.prototype.buildWrapperCSSClass.call(this)},vr.prototype.update=function(t){this.track_&&(!t||"addtrack"!==t.type&&"removetrack"!==t.type)||this.setTrack(this.findChaptersTrack()),ur.prototype.update.call(this)},vr.prototype.setTrack=function(t){var e,n;this.track_!==t&&(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_&&((e=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_))&&e.removeEventListener("load",this.updateHandler_),this.track_=null),this.track_=t,this.track_)&&(this.track_.mode="hidden",n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_))&&n.addEventListener("load",this.updateHandler_)},vr.prototype.findChaptersTrack=function(){for(var t=this.player_.textTracks()||[],e=t.length-1;0<=e;e--){var n=t[e];if(n.kind===this.kind_)return n}},vr.prototype.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(ue(this.kind_))},vr.prototype.createMenu=function(){return this.options_.title=this.getMenuCaption(),ur.prototype.createMenu.call(this)},vr.prototype.createItems=function(){var t=[];if(this.track_){var e=this.track_.cues;if(e)for(var n=0,o=e.length;n<o;n++){var r=e[n];r=new fr(this.player_,{track:this.track_,cue:r});t.push(r)}}return t},(m=vr).prototype.kind_="chapters",m.prototype.controlText_="Chapters",de.registerComponent("ChaptersButton",m),i(gr,pr=C),gr.prototype.handleTracksChange=function(t){for(var e=this.player().textTracks(),n=!1,o=0,r=e.length;o<r;o++){var i=e[o];if(i.kind!==this.kind_&&"showing"===i.mode){n=!0;break}}n?this.disable():this.enable()},gr.prototype.buildCSSClass=function(){return"vjs-descriptions-button "+pr.prototype.buildCSSClass.call(this)},gr.prototype.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+pr.prototype.buildWrapperCSSClass.call(this)},(m=gr).prototype.kind_="descriptions",m.prototype.controlText_="Descriptions",de.registerComponent("DescriptionsButton",m),i(mr,dr=C),mr.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+dr.prototype.buildCSSClass.call(this)},mr.prototype.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+dr.prototype.buildWrapperCSSClass.call(this)},(m=mr).prototype.kind_="subtitles",m.prototype.controlText_="Subtitles",de.registerComponent("SubtitlesButton",m),i(Cr,_r=or),Cr.prototype.handleClick=function(t){this.player().getChild("textTrackSettings").open()};var _r,br,Tr=Cr;function Cr(t,e){return r(this,Cr),e.track={player:t,kind:e.kind,label:e.kind+" settings",selectable:!1,default:!1,mode:"disabled"},e.selectable=!1,e.name="CaptionSettingsMenuItem",(t=s(this,_r.call(this,t,e))).addClass("vjs-texttrack-settings"),t.controlText(", opens "+e.kind+" settings dialog"),t}function kr(t,e,n){return r(this,kr),s(this,br.call(this,t,e,n))}de.registerComponent("CaptionSettingsMenuItem",Tr),i(kr,br=C),kr.prototype.buildCSSClass=function(){return"vjs-captions-button "+br.prototype.buildCSSClass.call(this)},kr.prototype.buildWrapperCSSClass=function(){return"vjs-captions-button "+br.prototype.buildWrapperCSSClass.call(this)},kr.prototype.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new Tr(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),br.prototype.createItems.call(this,t)},(m=kr).prototype.kind_="captions",m.prototype.controlText_="Captions",de.registerComponent("CaptionsButton",m),i(xr,Er=or),xr.prototype.createEl=function(t,e,n){var o='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"captions"===this.options_.track.kind&&(o+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),Er.prototype.createEl.call(this,t,H({innerHTML:o+="</span>"},e),n)};var Er,Sr,wr=xr;function xr(){return r(this,xr),s(this,Er.apply(this,arguments))}function jr(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return(e=(r(this,jr),s(this,Sr.call(this,t,e)))).label_="subtitles",-1<["en","en-us","en-ca","fr-ca"].indexOf(e.player_.language_)&&(e.label_="captions"),e.menuButton_.controlText(ue(e.label_)),e}de.registerComponent("SubsCapsMenuItem",wr),i(jr,Sr=C),jr.prototype.buildCSSClass=function(){return"vjs-subs-caps-button "+Sr.prototype.buildCSSClass.call(this)},jr.prototype.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+Sr.prototype.buildWrapperCSSClass.call(this)},jr.prototype.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new Tr(this.player_,{kind:this.label_})),this.hideThreshold_+=1),Sr.prototype.createItems.call(this,t,wr)},(m=jr).prototype.kinds_=["captions","subtitles"],m.prototype.controlText_="Subtitles",de.registerComponent("SubsCapsButton",m),i(Mr,Pr=n),Mr.prototype.createEl=function(t,e,n){var o='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"main-desc"===this.options_.track.kind&&(o+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Descriptions")+"</span>\n      "),Pr.prototype.createEl.call(this,t,H({innerHTML:o+="</span>"},e),n)},Mr.prototype.handleClick=function(t){var e=this.player_.audioTracks();Pr.prototype.handleClick.call(this,t);for(var n=0;n<e.length;n++){var o=e[n];o.enabled=o===this.track}},Mr.prototype.handleTracksChange=function(t){this.selected(this.track.enabled)};var Pr,Ar,Or=Mr;function Mr(t,e){function n(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];a.handleTracksChange.apply(a,e)}r(this,Mr);var o=e.track,i=t.audioTracks(),a=(e.label=o.label||o.language||"Unknown",e.selected=o.enabled,s(this,Pr.call(this,t,e)));return a.track=o,a.addClass("vjs-"+o.kind+"-menu-item"),i.addEventListener("change",n),a.on("dispose",(function(){i.removeEventListener("change",n)})),a}function Nr(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return r(this,Nr),e.tracks=t.audioTracks(),s(this,Ar.call(this,t,e))}de.registerComponent("AudioTrackMenuItem",Or),i(Nr,Ar=Gn),Nr.prototype.buildCSSClass=function(){return"vjs-audio-button "+Ar.prototype.buildCSSClass.call(this)},Nr.prototype.buildWrapperCSSClass=function(){return"vjs-audio-button "+Ar.prototype.buildWrapperCSSClass.call(this)},Nr.prototype.createItems=function(){for(var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=(this.hideThreshold_=1,this.player_.audioTracks()),n=0;n<e.length;n++){var o=e[n];t.push(new Or(this.player_,{track:o,selectable:!0,multiSelectable:!1}))}return t},(C=Nr).prototype.controlText_="Audio Track",de.registerComponent("AudioTrackButton",C),i(Lr,Ir=n),Lr.prototype.handleClick=function(t){Ir.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},Lr.prototype.update=function(t){this.selected(this.player().playbackRate()===this.rate)};var Ir,Dr,Fr=Lr;function Lr(t,e){r(this,Lr);var n=e.rate,o=parseFloat(n,10);return(e=(e.label=n,e.selected=1===o,e.selectable=!0,e.multiSelectable=!1,s(this,Ir.call(this,t,e)))).label=n,e.rate=o,e.on(t,"ratechange",e.update),e}function Rr(t,e){return r(this,Rr),(e=s(this,Dr.call(this,t,e))).updateVisibility(),e.updateLabel(),e.on(t,"loadstart",e.updateVisibility),e.on(t,"ratechange",e.updateLabel),e}Fr.prototype.contentElType="button",de.registerComponent("PlaybackRateMenuItem",Fr),i(Rr,Dr=b),Rr.prototype.createEl=function(){var t=Dr.prototype.createEl.call(this);return this.labelEl_=nt("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),t.appendChild(this.labelEl_),t},Rr.prototype.dispose=function(){this.labelEl_=null,Dr.prototype.dispose.call(this)},Rr.prototype.buildCSSClass=function(){return"vjs-playback-rate "+Dr.prototype.buildCSSClass.call(this)},Rr.prototype.buildWrapperCSSClass=function(){return"vjs-playback-rate "+Dr.prototype.buildWrapperCSSClass.call(this)},Rr.prototype.createMenu=function(){var t=new Go(this.player()),e=this.playbackRates();if(e)for(var n=e.length-1;0<=n;n--)t.addChild(new Fr(this.player(),{rate:e[n]+"x"}));return t},Rr.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},Rr.prototype.handleClick=function(t){for(var e=this.player().playbackRate(),n=this.playbackRates(),o=n[0],r=0;r<n.length;r++)if(n[r]>e){o=n[r];break}this.player().playbackRate(o)},Rr.prototype.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},Rr.prototype.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&0<this.playbackRates().length},Rr.prototype.updateVisibility=function(t){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},Rr.prototype.updateLabel=function(t){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},(m=Rr).prototype.controlText_="Playback Rate",de.registerComponent("PlaybackRateMenuButton",m),i(Hr,Br=de),Hr.prototype.buildCSSClass=function(){return"vjs-spacer "+Br.prototype.buildCSSClass.call(this)},Hr.prototype.createEl=function(){return Br.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})};var Br;Gn=Hr;function Hr(){return r(this,Hr),s(this,Br.apply(this,arguments))}de.registerComponent("Spacer",Gn),i(Ur,Vr=Gn),Ur.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+Vr.prototype.buildCSSClass.call(this)},Ur.prototype.createEl=function(){var t=Vr.prototype.createEl.call(this,{className:this.buildCSSClass()});return t.innerHTML="",t};var Vr,zr,Wr;C=Ur;function Ur(){return r(this,Ur),s(this,Vr.apply(this,arguments))}function Kr(){return r(this,Kr),s(this,zr.apply(this,arguments))}function qr(t,e){return r(this,qr),(e=s(this,Wr.call(this,t,e))).on(t,"error",e.open),e}de.registerComponent("CustomControlSpacer",C),i(Kr,zr=de),Kr.prototype.createEl=function(){return zr.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},(n=Kr).prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},de.registerComponent("ControlBar",n),i(qr,Wr=Me),qr.prototype.buildCSSClass=function(){return"vjs-error-display "+Wr.prototype.buildCSSClass.call(this)},qr.prototype.content=function(){var t=this.player().error();return t?this.localize(t.message):""},(b=qr).prototype.options_=pe(Me.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),de.registerComponent("ErrorDisplay",b);var $r="vjs-text-track-settings",Gr=["#F00","Red"],Yr=["#FF0","Yellow"],Xr=["1","Opaque"],Jr=["0.5","Semi-Transparent"],Qr=["0","Transparent"],Zr={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[m=["#000","Black"],ni=["#FFF","White"],Gr,n=["#0F0","Green"],Gn=["#00F","Blue"],Yr,b=["#F0F","Magenta"],C=["#0FF","Cyan"]]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[Xr,Jr,Qr]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[ni,m,Gr,n,Gn,Yr,b,C]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(t){return"1.00"===t?null:Number(t)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[Xr,Jr]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[Qr,Jr,Xr]}};function ti(t,e){if((t=e?e(t):t)&&"none"!==t)return t}Zr.windowColor.options=Zr.backgroundColor.options,i(oi,ei=Me),oi.prototype.dispose=function(){this.endDialog=null,ei.prototype.dispose.call(this)},oi.prototype.createElSelect_=function(t){var e=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"label",r=Zr[t],i=r.id.replace("%s",this.id_),s=[n,i].join(" ").trim();return["<"+o+' id="'+i+'" class="'+("label"===o?"vjs-label":"")+'">',this.localize(r.label),"</"+o+">",'<select aria-labelledby="'+s+'">'].concat(r.options.map((function(t){var n=i+"-"+t[1].replace(/\W+/g,"");return['<option id="'+n+'" value="'+t[0]+'" ','aria-labelledby="'+s+" "+n+'">',e.localize(t[1]),"</option>"].join("")}))).concat("</select>").join("")},oi.prototype.createElFgColor_=function(){var t="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",t),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",t),"</span>","</fieldset>"].join("")},oi.prototype.createElBgColor_=function(){var t="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",t),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",t),"</span>","</fieldset>"].join("")},oi.prototype.createElWinColor_=function(){var t="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",t),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",t),"</span>","</fieldset>"].join("")},oi.prototype.createElColors_=function(){return nt("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},oi.prototype.createElFont_=function(){return nt("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},oi.prototype.createElControls_=function(){var t=this.localize("restore all settings to the default values");return nt("div",{className:"vjs-track-settings-controls",innerHTML:['<button class="vjs-default-button" title="'+t+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+t+"</span>","</button>",'<button class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},oi.prototype.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},oi.prototype.label=function(){return this.localize("Caption Settings Dialog")},oi.prototype.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},oi.prototype.buildCSSClass=function(){return ei.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},oi.prototype.getValues=function(){var t=this;return function(t,e,n){var o=2<arguments.length&&void 0!==n?n:0;return l(t).reduce((function(n,o){return e(n,t[o],o)}),o)}(Zr,(function(e,n,o){r=t.$(n.selector),n=n.parser;var r=ti(r.options[r.options.selectedIndex].value,n);return void 0!==r&&(e[o]=r),e}),{})},oi.prototype.setValues=function(t){var e=this;B(Zr,(function(n,o){var r=e.$(n.selector),i=t[o],s=n.parser;if(i)for(var a=0;a<r.options.length;a++)if(ti(r.options[a].value,s)===i){r.selectedIndex=a;break}}))},oi.prototype.setDefaults=function(){var t=this;B(Zr,(function(e){var n=e.hasOwnProperty("default")?e.default:0;t.$(e.selector).selectedIndex=n}))},oi.prototype.restoreSettings=function(){var t=void 0;try{t=JSON.parse(h.localStorage.getItem($r))}catch(t){$.warn(t)}t&&this.setValues(t)},oi.prototype.saveSettings=function(){if(this.options_.persistTextTrackSettings){var t=this.getValues();try{Object.keys(t).length?h.localStorage.setItem($r,JSON.stringify(t)):h.localStorage.removeItem($r)}catch(t){$.warn(t)}}},oi.prototype.updateDisplay=function(){var t=this.player_.getChild("textTrackDisplay");t&&t.updateDisplay()},oi.prototype.conditionalBlur_=function(){this.previouslyActiveEl_=null,this.off(u,"keydown",this.handleKeyDown);var t=(e=this.player_.controlBar)&&e.subsCapsButton,e=e&&e.captionsButton;t?t.focus():e&&e.focus()};var ei,ni=oi;function oi(t,e){r(this,oi),e.temporary=!1;var n=s(this,ei.call(this,t,e));return n.updateDisplay=re(n,n.updateDisplay),n.fill(),n.hasBeenOpened_=n.hasBeenFilled_=!0,n.endDialog=nt("p",{className:"vjs-control-text",textContent:n.localize("End of dialog window.")}),n.el().appendChild(n.endDialog),n.setDefaults(),void 0===e.persistTextTrackSettings&&(n.options_.persistTextTrackSettings=n.options_.playerOptions.persistTextTrackSettings),n.on(n.$(".vjs-done-button"),"click",(function(){n.saveSettings(),n.close()})),n.on(n.$(".vjs-default-button"),"click",(function(){n.setDefaults(),n.updateDisplay()})),B(Zr,(function(t){n.on(n.$(t.selector),"change",n.updateDisplay)})),n.options_.persistTextTrackSettings&&n.restoreSettings(),n}de.registerComponent("TextTrackSettings",ni),i(ii,ri=de),ii.prototype.createEl=function(){return ri.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager"})},ii.prototype.resizeHandler=function(){this.player_.trigger("playerresize")},ii.prototype.dispose=function(){this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.el_&&this.el_.contentWindow&&Vt(this.el_.contentWindow,"resize",this.debouncedHandler_),this.loadListener_&&this.off("load",this.loadListener_),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null};var ri;m=ii;function ii(t,e){r(this,ii);var n=e.ResizeObserver||h.ResizeObserver,o=pe({createEl:!(n=null!==e.ResizeObserver&&n)},e),i=s(this,ri.call(this,t,o));return i.ResizeObserver=e.ResizeObserver||h.ResizeObserver,i.loadListener_=null,i.resizeObserver_=null,i.debouncedHandler_=function(t,e,n){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:h,r=void 0;return function(){var i=this,s=arguments,a=function(){a=r=null,n||t.apply(i,s)};!r&&n&&t.apply(i,s),o.clearTimeout(r),r=o.setTimeout(a,e)}}((function(){i.resizeHandler()}),100,!1,t),n?(i.resizeObserver_=new i.ResizeObserver(i.debouncedHandler_),i.resizeObserver_.observe(t.el())):(i.loadListener_=function(){i.el_.contentWindow&&Ht(i.el_.contentWindow,"resize",i.debouncedHandler_),i.off("load",i.loadListener_)},i.on("load",i.loadListener_)),i}function si(t){var e,n,o,r=t.el();r.resetSourceWatch_||(e={},n=ui(t),o=function(e){return function(){for(var n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];var s=e.apply(r,o);return li(t),s}},["append","appendChild","insertAdjacentHTML"].forEach((function(t){r[t]&&(e[t]=r[t],r[t]=o(e[t]))})),Object.defineProperty(r,"innerHTML",pe(n,{set:o(n.set)})),r.resetSourceWatch_=function(){r.resetSourceWatch_=null,Object.keys(e).forEach((function(t){r[t]=e[t]})),Object.defineProperty(r,"innerHTML",n)},t.one("sourceset",r.resetSourceWatch_))}de.registerComponent("ResizeManager",m);var ai,li=function(t){if((o=t.el()).hasAttribute("src"))t.triggerSourceset(o.src);else{var e=t.$$("source"),n=[],o="";if(!e.length)return!1;for(var r=0;r<e.length;r++){var i=e[r].src;i&&-1===n.indexOf(i)&&n.push(i)}if(!n.length)return!1;t.triggerSourceset(o=1===n.length?n[0]:o)}return!0},ci={},hi=(O||(ci=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(t){for(var e=u.createElement(this.nodeName.toLowerCase()),n=(e.innerHTML=t,u.createDocumentFragment());e.childNodes.length;)n.appendChild(e.childNodes[0]);return this.innerText="",h.Element.prototype.appendChild.call(this,n),this.innerHTML}})),function(t,e){for(var n={},o=0;o<t.length&&!((n=Object.getOwnPropertyDescriptor(t[o],e))&&n.set&&n.get);o++);return n.enumerable=!0,n.configurable=!0,n}),ui=function(t){return hi([t.el(),h.HTMLMediaElement.prototype,h.Element.prototype,ci],"innerHTML")},pi={},di=(O||(pi=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?nn(h.Element.prototype.getAttribute.call(this,"src")):""},set:function(t){return h.Element.prototype.setAttribute.call(this,"src",t),t}})),a(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."],["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."])),fi=(i(yi,ai=Tn),yi.prototype.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),yi.disposeMediaElement(this.el_),this.options_=null,ai.prototype.dispose.call(this)},yi.prototype.setupSourcesetHandling_=function(){!function(t){var e,n,o,r;t.featuresSourceset&&!(e=t.el()).resetSourceset_&&(n=hi([t.el(),h.HTMLMediaElement.prototype,pi],"src"),o=e.setAttribute,r=e.load,Object.defineProperty(e,"src",pe(n,{set:function(o){return o=n.set.call(e,o),t.triggerSourceset(e.src),o}})),e.setAttribute=function(n,r){return r=o.call(e,n,r),/src/i.test(n)&&t.triggerSourceset(e.src),r},e.load=function(){var n=r.call(e);return li(t)||(t.triggerSourceset(""),si(t)),n},e.currentSrc?t.triggerSourceset(e.currentSrc):li(t)||si(t),e.resetSourceset_=function(){e.resetSourceset_=null,e.load=r,e.setAttribute=o,Object.defineProperty(e,"src",n),e.resetSourceWatch_&&e.resetSourceWatch_()})}(this)},yi.prototype.restoreMetadataTracksInIOSNativePlayer_=function(){function t(){o=[];for(var t=0;t<n.length;t++){var e=n[t];"metadata"===e.kind&&o.push({track:e,storedMode:e.mode})}}function e(){for(var t=0;t<o.length;t++){var r=o[t];"disabled"===r.track.mode&&r.track.mode!==r.storedMode&&(r.track.mode=r.storedMode)}n.removeEventListener("change",e)}var n=this.textTracks(),o=void 0;t(),n.addEventListener("change",t),this.on("dispose",(function(){return n.removeEventListener("change",t)})),this.on("webkitbeginfullscreen",(function(){n.removeEventListener("change",t),n.removeEventListener("change",e),n.addEventListener("change",e)})),this.on("webkitendfullscreen",(function(){n.removeEventListener("change",t),n.addEventListener("change",t),n.removeEventListener("change",e)}))},yi.prototype.proxyNativeTracks_=function(){var t=this;gn.names.forEach((function(e){e=gn[e];var n,o,r=t.el()[e.getterName],i=t[e.getterName]();t["featuresNative"+e.capitalName+"Tracks"]&&r&&r.addEventListener&&(n={change:function(t){i.trigger({type:"change",target:i,currentTarget:i,srcElement:i})},addtrack:function(t){i.addTrack(t.track)},removetrack:function(t){i.removeTrack(t.track)}},o=function(){for(var t=[],e=0;e<i.length;e++){for(var n=!1,o=0;o<r.length;o++)if(r[o]===i[e]){n=!0;break}n||t.push(i[e])}for(;t.length;)i.removeTrack(t.shift())},Object.keys(n).forEach((function(e){var o=n[e];r.addEventListener(e,o),t.on("dispose",(function(t){return r.removeEventListener(e,o)}))})),t.on("loadstart",o),t.on("dispose",(function(e){return t.off("loadstart",o)})))}))},yi.prototype.createEl=function(){for(var t,e=this.options_.tag,n=(e&&(this.options_.playerElIngest||this.movingMediaElementInDOM)||(e?(t=e.cloneNode(!0),e.parentNode&&e.parentNode.insertBefore(t,e),yi.disposeMediaElement(e),e=t):(e=u.createElement("video"),t=pe({},this.options_.tag&&ht(this.options_.tag)),I&&!0===this.options_.nativeControlsForTouch||delete t.controls,ct(e,H(t,{id:this.options_.techId,class:"vjs-tech"}))),e.playerId=this.options_.playerId),void 0!==this.options_.preload&&pt(e,"preload",this.options_.preload),["loop","muted","playsinline","autoplay"]),o=0;o<n.length;o++){var r=n[o],i=this.options_[r];void 0!==i&&(i?pt(e,r,r):dt(e,r),e[r]=i)}return e},yi.prototype.handleLateInit_=function(t){var e,n,o,r;0!==t.networkState&&3!==t.networkState&&(0===t.readyState?(e=!1,this.on("loadstart",n=function(){e=!0}),this.on("loadedmetadata",o=function(){e||this.trigger("loadstart")}),this.ready((function(){this.off("loadstart",n),this.off("loadedmetadata",o),e||this.trigger("loadstart")}))):((r=["loadstart"]).push("loadedmetadata"),2<=t.readyState&&r.push("loadeddata"),3<=t.readyState&&r.push("canplay"),4<=t.readyState&&r.push("canplaythrough"),this.ready((function(){r.forEach((function(t){this.trigger(t)}),this)}))))},yi.prototype.setCurrentTime=function(t){try{this.el_.currentTime=t}catch(t){$(t,"Video is not ready. (Video.js)")}},yi.prototype.duration=function(){var t=this;return this.el_.duration===1/0&&k&&P&&0===this.el_.currentTime?(this.on("timeupdate",(function e(){0<t.el_.currentTime&&(t.el_.duration===1/0&&t.trigger("durationchange"),t.off("timeupdate",e))})),NaN):this.el_.duration||NaN},yi.prototype.width=function(){return this.el_.offsetWidth},yi.prototype.height=function(){return this.el_.offsetHeight},yi.prototype.proxyWebkitFullscreen_=function(){var t,e,n=this;"webkitDisplayingFullscreen"in this.el_&&(t=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},this.on("webkitbeginfullscreen",e=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{isFullscreen:!0}))}),this.on("dispose",(function(){n.off("webkitbeginfullscreen",e),n.off("webkitendfullscreen",t)})))},yi.prototype.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var t=h.navigator&&h.navigator.userAgent||"";if(/Android/.test(t)||!/Chrome|Mac OS X 10.5/.test(t))return!0}return!1},yi.prototype.enterFullScreen=function(){var t=this.el_;t.paused&&t.networkState<=t.HAVE_METADATA?(this.el_.play(),this.setTimeout((function(){t.pause(),t.webkitEnterFullScreen()}),0)):t.webkitEnterFullScreen()},yi.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},yi.prototype.src=function(t){if(void 0===t)return this.el_.src;this.setSrc(t)},yi.prototype.reset=function(){yi.resetMediaElement(this.el_)},yi.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},yi.prototype.setControls=function(t){this.el_.controls=!!t},yi.prototype.addTextTrack=function(t,e,n){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,e,n):ai.prototype.addTextTrack.call(this,t,e,n)},yi.prototype.createRemoteTextTrack=function(t){var e;return this.featuresNativeTextTracks?(e=u.createElement("track"),t.kind&&(e.kind=t.kind),t.label&&(e.label=t.label),(t.language||t.srclang)&&(e.srclang=t.language||t.srclang),t.default&&(e.default=t.default),t.id&&(e.id=t.id),t.src&&(e.src=t.src),e):ai.prototype.createRemoteTextTrack.call(this,t)},yi.prototype.addRemoteTextTrack=function(t,e){return t=ai.prototype.addRemoteTextTrack.call(this,t,e),this.featuresNativeTextTracks&&this.el().appendChild(t),t},yi.prototype.removeRemoteTextTrack=function(t){if(ai.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var e=this.$$("track"),n=e.length;n--;)t!==e[n]&&t!==e[n].track||this.el().removeChild(e[n])},yi.prototype.getVideoPlaybackQuality=function(){var t;return"function"==typeof this.el().getVideoPlaybackQuality?this.el().getVideoPlaybackQuality():(t={},void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(t.droppedVideoFrames=this.el().webkitDroppedFrameCount,t.totalVideoFrames=this.el().webkitDecodedFrameCount),h.performance&&"function"==typeof h.performance.now?t.creationTime=h.performance.now():h.performance&&h.performance.timing&&"number"==typeof h.performance.timing.navigationStart&&(t.creationTime=h.Date.now()-h.performance.timing.navigationStart),t)},yi);function yi(t,e){r(this,yi);var n=s(this,ai.call(this,t,e)),o=!1;if((e=t.source)&&(n.el_.currentSrc!==e.src||t.tag&&3===t.tag.initNetworkState_)?n.setSource(e):n.handleLateInit_(n.el_),t.enableSourceset&&n.setupSourcesetHandling_(),n.el_.hasChildNodes()){for(var i=n.el_.childNodes,a=i.length,l=[];a--;){var c=i[a];"track"===c.nodeName.toLowerCase()&&(n.featuresNativeTextTracks?(n.remoteTextTrackEls().addTrackElement_(c),n.remoteTextTracks().addTrack(c.track),n.textTracks().addTrack(c.track),o||n.el_.hasAttribute("crossorigin")||!sn(c.src)||(o=!0)):l.push(c))}for(var h=0;h<l.length;h++)n.el_.removeChild(l[h])}return n.proxyNativeTracks_(),n.featuresNativeTextTracks&&o&&$.warn(p(di)),n.restoreMetadataTracksInIOSNativePlayer_(),(I||_||w)&&!0===t.nativeControlsForTouch&&n.setControls(!0),n.proxyWebkitFullscreen_(),n.triggerReady(),n}Q()&&(fi.TEST_VID=u.createElement("video"),(Gr=u.createElement("track")).kind="captions",Gr.srclang="en",Gr.label="English",fi.TEST_VID.appendChild(Gr)),fi.isSupported=function(){try{fi.TEST_VID.volume=.5}catch(t){return!1}return!(!fi.TEST_VID||!fi.TEST_VID.canPlayType)},fi.canPlayType=function(t){return fi.TEST_VID.canPlayType(t)},fi.canPlaySource=function(t,e){return fi.canPlayType(t.type)},fi.canControlVolume=function(){try{var t=fi.TEST_VID.volume;return fi.TEST_VID.volume=t/2+.1,t!==fi.TEST_VID.volume}catch(t){return!1}},fi.canMuteVolume=function(){try{var t=fi.TEST_VID.muted;return fi.TEST_VID.muted=!t,fi.TEST_VID.muted?pt(fi.TEST_VID,"muted","muted"):dt(fi.TEST_VID,"muted"),t!==fi.TEST_VID.muted}catch(t){return!1}},fi.canControlPlaybackRate=function(){if(k&&P&&A<58)return!1;try{var t=fi.TEST_VID.playbackRate;return fi.TEST_VID.playbackRate=t/2+.1,t!==fi.TEST_VID.playbackRate}catch(t){return!1}},fi.canOverrideAttributes=function(){if(O)return!1;try{function t(){}Object.defineProperty(u.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(u.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(u.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(u.createElement("audio"),"innerHTML",{get:t,set:t})}catch(t){return!1}return!0},fi.supportsNativeTextTracks=function(){return N||T&&P},fi.supportsNativeVideoTracks=function(){return!(!fi.TEST_VID||!fi.TEST_VID.videoTracks)},fi.supportsNativeAudioTracks=function(){return!(!fi.TEST_VID||!fi.TEST_VID.audioTracks)},fi.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],fi.prototype.featuresVolumeControl=fi.canControlVolume(),fi.prototype.featuresMuteControl=fi.canMuteVolume(),fi.prototype.featuresPlaybackRate=fi.canControlPlaybackRate(),fi.prototype.featuresSourceset=fi.canOverrideAttributes(),fi.prototype.movingMediaElementInDOM=!T,fi.prototype.featuresFullscreenResize=!0,fi.prototype.featuresProgressEvents=!0,fi.prototype.featuresTimeupdateEvents=!0,fi.prototype.featuresNativeTextTracks=fi.supportsNativeTextTracks(),fi.prototype.featuresNativeVideoTracks=fi.supportsNativeVideoTracks(),fi.prototype.featuresNativeAudioTracks=fi.supportsNativeAudioTracks();var vi,gi=fi.TEST_VID&&fi.TEST_VID.constructor.prototype.canPlayType,mi=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,_i=/^video\/mp4/i,bi=(fi.patchCanPlayType=function(){4<=E&&!x&&!P?fi.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&mi.test(t)?"maybe":gi.call(this,t)}:S&&(fi.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&_i.test(t)?"maybe":gi.call(this,t)})},fi.unpatchCanPlayType=function(){var t=fi.TEST_VID.constructor.prototype.canPlayType;return fi.TEST_VID.constructor.prototype.canPlayType=gi,t},fi.patchCanPlayType(),fi.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);if(t.removeAttribute("src"),"function"==typeof t.load)try{t.load()}catch(t){}}},fi.resetMediaElement=function(t){if(t){for(var e=t.querySelectorAll("source"),n=e.length;n--;)t.removeChild(e[n]);if(t.removeAttribute("src"),"function"==typeof t.load)try{t.load()}catch(t){}}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach((function(t){fi.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}})),["muted","defaultMuted","autoplay","loop","playsinline"].forEach((function(t){fi.prototype["set"+ue(t)]=function(e){(this.el_[t]=e)?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}})),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach((function(t){fi.prototype[t]=function(){return this.el_[t]}})),["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach((function(t){fi.prototype["set"+ue(t)]=function(e){this.el_[t]=e}})),["pause","load","play"].forEach((function(t){fi.prototype[t]=function(){return this.el_[t]()}})),Tn.withSourceHandlers(fi),fi.nativeSourceHandler={},fi.nativeSourceHandler.canPlayType=function(t){try{return fi.TEST_VID.canPlayType(t)}catch(t){return""}},fi.nativeSourceHandler.canHandleSource=function(t,e){return t.type?fi.nativeSourceHandler.canPlayType(t.type):t.src?(t=rn(t.src),fi.nativeSourceHandler.canPlayType("video/"+t)):""},fi.nativeSourceHandler.handleSource=function(t,e,n){e.setSrc(t.src)},fi.nativeSourceHandler.dispose=function(){},fi.registerSourceHandler(fi.nativeSourceHandler),Tn.registerTech("Html5",fi),a(["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "],["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "])),Ti=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Ci={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},ki=(i(Ei,vi=de),Ei.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),Ei.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),En[this.id()]=null,vi.prototype.dispose.call(this)},Ei.prototype.createEl=function(){var t,e,n=this.tag,o=void 0,r=this.playerElIngest_=n.parentNode&&n.parentNode.hasAttribute&&n.parentNode.hasAttribute("data-vjs-player"),i="video-js"===this.tag.tagName.toLowerCase(),s=(r?o=this.el_=n.parentNode:i||(o=this.el_=vi.prototype.createEl.call(this,"div")),ht(n));if(i){for(o=this.el_=n,n=this.tag=u.createElement("video");o.children.length;)n.appendChild(o.firstChild);it(o,"video-js")||st(o,"video-js"),o.appendChild(n),r=this.playerElIngest_=o,["autoplay","controls","crossOrigin","defaultMuted","defaultPlaybackRate","loop","muted","playbackRate","src","volume"].forEach((function(t){void 0!==o[t]&&(n[t]=o[t])}))}n.setAttribute("tabindex","-1"),M&&n.setAttribute("role","application"),n.removeAttribute("width"),n.removeAttribute("height"),Object.getOwnPropertyNames(s).forEach((function(t){"class"===t?(o.className+=" "+s[t],i&&(n.className+=" "+s[t])):(o.setAttribute(t,s[t]),i&&n.setAttribute(t,s[t]))})),n.playerId=n.id,n.id+="_html5_api",n.className="vjs-tech",(n.player=o.player=this).addClass("vjs-paused"),!0!==h.VIDEOJS_NO_DYNAMIC_STYLE&&(this.styleEl_=Yt("vjs-styles-dimensions"),t=St(".vjs-styles-defaults"),(e=St("head")).insertBefore(this.styleEl_,t?t.nextSibling:e.firstChild)),this.width(this.options_.width),this.height(this.options_.height),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var a=n.getElementsByTagName("a"),l=0;l<a.length;l++){var c=a.item(l);st(c,"vjs-hidden"),c.setAttribute("hidden","hidden")}return n.initNetworkState_=n.networkState,n.parentNode&&!r&&n.parentNode.insertBefore(o,n),rt(n,o),this.children_.unshift(n),this.el_.setAttribute("lang",this.language_),this.el_=o},Ei.prototype.width=function(t){return this.dimension("width",t)},Ei.prototype.height=function(t){return this.dimension("height",t)},Ei.prototype.dimension=function(t,e){var n,o=t+"_";if(void 0===e)return this[o]||0;""===e?(this[o]=void 0,this.updateStyleEl_()):(n=parseFloat(e),isNaN(n)?$.error('Improper value "'+e+'" supplied for for '+t):(this[o]=n,this.updateStyleEl_()))},Ei.prototype.fluid=function(t){if(void 0===t)return!!this.fluid_;this.fluid_=!!t,t?this.addClass("vjs-fluid"):this.removeClass("vjs-fluid"),this.updateStyleEl_()},Ei.prototype.aspectRatio=function(t){if(void 0===t)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(t))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=t,this.fluid(!0),this.updateStyleEl_()},Ei.prototype.updateStyleEl_=function(){var t,e,n,o;!0===h.VIDEOJS_NO_DYNAMIC_STYLE?(e="number"==typeof this.width_?this.width_:this.options_.width,o="number"==typeof this.height_?this.height_:this.options_.height,(n=this.tech_&&this.tech_.el())&&(0<=e&&(n.width=e),0<=o)&&(n.height=o)):(t=(t=((o=n=e=void 0)!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:0<this.videoWidth()?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"))[1]/t[0],e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/t:this.videoWidth()||300,n=void 0!==this.height_?this.height_:e*t,o=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(o),Xt(this.styleEl_,"\n      ."+o+" {\n        width: "+e+"px;\n        height: "+n+"px;\n      }\n\n      ."+o+".vjs-fluid {\n        padding-top: "+100*t+"%;\n      }\n    "))},Ei.prototype.loadTech_=function(t,e){var n=this,o=(this.tech_&&this.unloadTech_(),ue(t)),r=t.charAt(0).toLowerCase()+t.slice(1);"Html5"!==o&&this.tag&&(Tn.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=o,this.isReady_=!1;var i={source:e,autoplay:"string"!=typeof this.autoplay()&&this.autoplay(),nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+o+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};if(!(r=(_n.names.forEach((function(t){t=_n[t],i[t.getterName]=n[t.privateName]})),H(i,this.options_[o]),H(i,this.options_[r]),H(i,this.options_[t.toLowerCase()]),this.tag&&(i.tag=this.tag),e&&e.src===this.cache_.src&&0<this.cache_.currentTime&&(i.startTime=this.cache_.currentTime),Tn.getTech(t))))throw new Error("No Tech named '"+o+"' exists! '"+o+"' should be registered using videojs.registerTech()'");this.tech_=new r(i),this.tech_.ready(re(this,this.handleTechReady_),!0),function(t,e){t.forEach((function(t){var n=e.addRemoteTextTrack(t).track;!t.src&&t.cues&&t.cues.forEach((function(t){return n.addCue(t)}))})),e.textTracks()}(this.textTracksJson_||[],this.tech_),Ti.forEach((function(t){n.on(n.tech_,t,n["handleTech"+ue(t)+"_"])})),Object.keys(Ci).forEach((function(t){n.on(n.tech_,t,(function(e){0===n.tech_.playbackRate()&&n.tech_.seeking()?n.queuedCallbacks_.push({callback:n["handleTech"+Ci[t]+"_"].bind(n),event:e}):n["handleTech"+Ci[t]+"_"](e)}))})),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"sourceset",this.handleTechSourceset_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===o&&this.tag||rt(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},Ei.prototype.unloadTech_=function(){var t=this;_n.names.forEach((function(e){e=_n[e],t[e.privateName]=t[e.getterName]()})),this.textTracksJson_=function(t){var e=t.$$("track"),n=Array.prototype.map.call(e,(function(t){return t.track}));return Array.prototype.map.call(e,(function(t){var e=Pe(t.track);return t.src&&(e.src=t.src),e})).concat(Array.prototype.filter.call(t.textTracks(),(function(t){return-1===n.indexOf(t)})).map(Pe))}(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},Ei.prototype.tech=function(t){return void 0===t&&$.warn(p(bi)),this.tech_},Ei.prototype.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},Ei.prototype.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_)},Ei.prototype.handleTechReady_=function(){if(this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_(),(this.src()||this.currentSrc())&&this.tag&&this.options_.autoplay&&this.paused())try{delete this.tag.poster}catch(t){$("deleting tag.poster throws in some browsers",t)}},Ei.prototype.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay())},Ei.prototype.manualAutoplay_=function(t){var e=this;if(this.tech_&&"string"==typeof t){function n(){var t=e.muted(),n=(e.muted(!0),e.play());if(n&&n.then&&n.catch)return n.catch((function(n){e.muted(t)}))}var o=void 0;if("any"===t?(o=this.play())&&o.then&&o.catch&&o.catch(n):o="muted"===t?n():this.play(),o&&o.then&&o.catch)return o.then((function(){e.trigger({type:"autoplay-success",autoplay:t})})).catch((function(n){e.trigger({type:"autoplay-failure",autoplay:t})}))}},Ei.prototype.updateSourceCaches_=function(){var t=n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",e="";if("string"!=typeof t&&(t=n.src,e=n.type),!/^blob:/.test(t)){this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],t&&!e&&(e=function(t,e){if(!e)return"";if(t.cache_.source.src===e&&t.cache_.source.type)return t.cache_.source.type;var n=t.cache_.sources.filter((function(t){return t.src===e}));if(n.length)return n[0].type;for(var o=t.$$("source"),r=0;r<o.length;r++){var i=o[r];if(i.type&&i.src&&i.src===e)return i.type}return Nn(e)}(this,t)),this.cache_.source=pe({},n,{src:t,type:e});for(var n=this.cache_.sources.filter((function(e){return e.src&&e.src===t})),o=[],r=this.$$("source"),i=[],s=0;s<r.length;s++){var a=ht(r[s]);o.push(a),a.src&&a.src===t&&i.push(a.src)}i.length&&!n.length?this.cache_.sources=o:n.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=t}},Ei.prototype.handleTechSourceset_=function(t){var e=this;this.changingSrc_||(this.updateSourceCaches_(t.src),t.src)||this.tech_.one(["sourceset","loadstart"],(function t(n){"sourceset"!==n.type&&e.updateSourceCaches_(e.techGet_("currentSrc")),e.tech_.off(["sourceset","loadstart"],t)})),this.trigger({src:t.src,type:"sourceset"})},Ei.prototype.hasStarted=function(t){if(void 0===t)return this.hasStarted_;t!==this.hasStarted_&&(this.hasStarted_=t,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},Ei.prototype.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},Ei.prototype.handleTechRateChange_=function(){0<this.tech_.playbackRate()&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach((function(t){return t.callback(t.event)})),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},Ei.prototype.handleTechWaiting_=function(){var t=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",(function(){return t.removeClass("vjs-waiting")}))},Ei.prototype.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},Ei.prototype.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},Ei.prototype.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},Ei.prototype.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},Ei.prototype.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},Ei.prototype.handleTechFirstPlay_=function(){this.options_.starttime&&($.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},Ei.prototype.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},Ei.prototype.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},Ei.prototype.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},Ei.prototype.handleTechClick_=function(t){Et(t)&&this.controls_&&(this.paused()?je(this.play()):this.pause())},Ei.prototype.handleTechTap_=function(){this.userActive(!this.userActive())},Ei.prototype.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},Ei.prototype.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},Ei.prototype.handleTechTouchEnd_=function(t){t.preventDefault()},Ei.prototype.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},Ei.prototype.handleStageClick_=function(){this.reportUserActivity()},Ei.prototype.handleTechFullscreenChange_=function(t,e){e&&this.isFullscreen(e.isFullscreen),this.trigger("fullscreenchange")},Ei.prototype.handleTechError_=function(){var t=this.tech_.error();this.error(t)},Ei.prototype.handleTechTextData_=function(){var t=1<arguments.length?arguments[1]:null;this.trigger("textdata",t)},Ei.prototype.getCache=function(){return this.cache_},Ei.prototype.techCall_=function(t,e){this.ready((function(){if(t in jn)return n=this.middleware_,this.tech_[t](n.reduce(An(t),e));if(t in Pn)return wn(this.middleware_,this.tech_,t,e);var n;try{this.tech_&&this.tech_[t](e)}catch(n){throw $(n),n}}),!0)},Ei.prototype.techGet_=function(t){if(this.tech_&&this.tech_.isReady_){if(t in xn)return e=this.middleware_,n=this.tech_,e.reduceRight(An(t),n[t]());if(t in Pn)return wn(this.middleware_,this.tech_,t);var e,n;try{return this.tech_[t]()}catch(e){throw void 0===this.tech_[t]?$("Video.js: "+t+" method not defined for "+this.techName_+" playback technology.",e):"TypeError"===e.name?($("Video.js: "+t+" unavailable on "+this.techName_+" playback technology element.",e),this.tech_.isReady_=!1):$(e),e}}},Ei.prototype.play=function(){var t=this,e=this.options_.Promise||h.Promise;return e?new e((function(e){t.play_(e)})):this.play_()},Ei.prototype.play_=function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:je;this.playOnLoadstart_&&this.off("loadstart",this.playOnLoadstart_),this.isReady_?this.changingSrc_||!this.src()&&!this.currentSrc()?(this.playOnLoadstart_=function(){t.playOnLoadstart_=null,e(t.play())},this.one("loadstart",this.playOnLoadstart_)):e(this.techGet_("play")):this.playWaitingForReady_||(this.playWaitingForReady_=!0,this.ready((function(){t.playWaitingForReady_=!1,e(t.play())})))},Ei.prototype.pause=function(){this.techCall_("pause")},Ei.prototype.paused=function(){return!1!==this.techGet_("paused")},Ei.prototype.played=function(){return this.techGet_("played")||ge(0,0)},Ei.prototype.scrubbing=function(t){if(void 0===t)return this.scrubbing_;this.scrubbing_=!!t,t?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},Ei.prototype.currentTime=function(t){if(void 0===t)return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime;this.techCall_("setCurrentTime",t=t<0?0:t)},Ei.prototype.duration=function(t){if(void 0===t)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(t=(t=parseFloat(t))<0?1/0:t)!==this.cache_.duration&&((this.cache_.duration=t)===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange"))},Ei.prototype.remainingTime=function(){return this.duration()-this.currentTime()},Ei.prototype.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},Ei.prototype.buffered=function(){var t;return(t=this.techGet_("buffered"))&&t.length?t:ge(0,0)},Ei.prototype.bufferedPercent=function(){return me(this.buffered(),this.duration())},Ei.prototype.bufferedEnd=function(){var t=this.buffered(),e=this.duration();return e<(t=t.end(t.length-1))?e:t},Ei.prototype.volume=function(t){var e=void 0;if(void 0===t)return e=parseFloat(this.techGet_("volume")),isNaN(e)?1:e;e=Math.max(0,Math.min(1,parseFloat(t))),this.cache_.volume=e,this.techCall_("setVolume",e),0<e&&this.lastVolume_(e)},Ei.prototype.muted=function(t){if(void 0===t)return this.techGet_("muted")||!1;this.techCall_("setMuted",t)},Ei.prototype.defaultMuted=function(t){return void 0!==t?this.techCall_("setDefaultMuted",t):this.techGet_("defaultMuted")||!1},Ei.prototype.lastVolume_=function(t){if(void 0===t||0===t)return this.cache_.lastVolume;this.cache_.lastVolume=t},Ei.prototype.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},Ei.prototype.isFullscreen=function(t){if(void 0===t)return!!this.isFullscreen_;this.isFullscreen_=!!t},Ei.prototype.requestFullscreen=function(){var t=_e;this.isFullscreen(!0),t.requestFullscreen?(Ht(u,t.fullscreenchange,re(this,(function e(n){this.isFullscreen(u[t.fullscreenElement]),!1===this.isFullscreen()&&Vt(u,t.fullscreenchange,e),this.trigger("fullscreenchange")}))),this.el_[t.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"))},Ei.prototype.exitFullscreen=function(){var t=_e;this.isFullscreen(!1),t.requestFullscreen?u[t.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange"))},Ei.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=u.documentElement.style.overflow,Ht(u,"keydown",re(this,this.fullWindowOnEscKey)),u.documentElement.style.overflow="hidden",st(u.body,"vjs-full-window"),this.trigger("enterFullWindow")},Ei.prototype.fullWindowOnEscKey=function(t){27===t.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},Ei.prototype.exitFullWindow=function(){this.isFullWindow=!1,Vt(u,"keydown",this.fullWindowOnEscKey),u.documentElement.style.overflow=this.docOrigOverflow,at(u.body,"vjs-full-window"),this.trigger("exitFullWindow")},Ei.prototype.canPlayType=function(t){for(var e=0,n=this.options_.techOrder;e<n.length;e++){var o=n[e],r=Tn.getTech(o);if(r=r||de.getComponent(o)){if(r.isSupported()&&(r=r.canPlayType(t)))return r}else $.error('The "'+o+'" tech is undefined. Skipped browser support check for that tech.')}return""},Ei.prototype.selectSource=function(t){function e(t,e,n){var o=void 0;return t.some((function(t){return e.some((function(e){if(o=n(t,e))return!0}))})),o}function n(t,e){var n=t[0];if(t[1].canPlaySource(e,r.options_[n.toLowerCase()]))return{source:e,tech:n}}var o,r=this,i=this.options_.techOrder.map((function(t){return[t,Tn.getTech(t)]})).filter((function(t){var e=t[0];return(t=t[1])?t.isSupported():($.error('The "'+e+'" tech is undefined. Skipped browser support check for that tech.'),!1)}));return(this.options_.sourceOrder?e(t,i,(o=n,function(t,e){return o(e,t)})):e(i,t,n))||!1},Ei.prototype.src=function(t){var e=this;if(void 0===t)return this.cache_.src||"";var n=function t(e){var n;return Array.isArray(e)?(n=[],e.forEach((function(e){e=t(e),Array.isArray(e)?n=n.concat(e):V(e)&&n.push(e)})),n):"string"==typeof e&&e.trim()?[In({src:e})]:V(e)&&"string"==typeof e.src&&e.src&&e.src.trim()?[In(e)]:[]}(t);n.length?(this.changingSrc_=!0,this.cache_.sources=n,this.updateSourceCaches_(n[0]),function(t,e,n){t.setTimeout((function(){return function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],o=arguments[2],r=arguments[3],i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:[],s=5<arguments.length&&void 0!==arguments[5]&&arguments[5],a=n[0],l=n.slice(1);if("string"==typeof a)t(e,kn[a],o,r,i,s);else if(a){var c=On(r,a);if(!c.setSource)return i.push(c),t(e,l,o,r,i,s);c.setSource(H({},e),(function(n,a){if(n)return t(e,l,o,r,i,s);i.push(c),t(a,e.type===a.type?l:kn[a.type],o,r,i,s)}))}else l.length?t(e,l,o,r,i,s):s?o(e,i):t(e,kn["*"],o,r,i,!0)}(e,kn[e.type],n,t)}),1)}(this,n[0],(function(t,o){var r;if(e.middleware_=o,e.cache_.sources=n,e.updateSourceCaches_(t),e.src_(t))return 1<n.length?e.src(n.slice(1)):(e.changingSrc_=!1,e.setTimeout((function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})}),0),void e.triggerReady());r=e.tech_,o.forEach((function(t){return t.setTech&&t.setTech(r)}))}))):this.setTimeout((function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})}),0)},Ei.prototype.src_=function(t){var e,n,o=this,r=this.selectSource([t]);return!r||(e=r.tech,n=this.techName_,ue(e)!==ue(n)?(this.changingSrc_=!0,this.loadTech_(r.tech,r.source),this.tech_.ready((function(){o.changingSrc_=!1}))):this.ready((function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",t):this.techCall_("src",t.src),this.changingSrc_=!1}),!0),!1)},Ei.prototype.load=function(){this.techCall_("load")},Ei.prototype.reset=function(){this.tech_&&this.tech_.clearTracks("text"),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset")},Ei.prototype.currentSources=function(){var t=this.currentSource(),e=[];return 0!==Object.keys(t).length&&e.push(t),this.cache_.sources||e},Ei.prototype.currentSource=function(){return this.cache_.source||{}},Ei.prototype.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},Ei.prototype.currentType=function(){return this.currentSource()&&this.currentSource().type||""},Ei.prototype.preload=function(t){if(void 0===t)return this.techGet_("preload");this.techCall_("setPreload",t),this.options_.preload=t},Ei.prototype.autoplay=function(t){if(void 0===t)return this.options_.autoplay||!1;var e=void 0;"string"==typeof t&&/(any|play|muted)/.test(t)?(this.options_.autoplay=t,this.manualAutoplay_(t),e=!1):this.options_.autoplay=!!t,e=e||this.options_.autoplay,this.tech_&&this.techCall_("setAutoplay",e)},Ei.prototype.playsinline=function(t){return void 0!==t?(this.techCall_("setPlaysinline",t),this.options_.playsinline=t,this):this.techGet_("playsinline")},Ei.prototype.loop=function(t){if(void 0===t)return this.techGet_("loop");this.techCall_("setLoop",t),this.options_.loop=t},Ei.prototype.poster=function(t){if(void 0===t)return this.poster_;(t=t||"")!==this.poster_&&(this.poster_=t,this.techCall_("setPoster",t),this.isPosterFromTech_=!1,this.trigger("posterchange"))},Ei.prototype.handleTechPosterChange_=function(){var t;(!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster&&(t=this.tech_.poster()||"")!==this.poster_&&(this.poster_=t,this.isPosterFromTech_=!0,this.trigger("posterchange"))},Ei.prototype.controls=function(t){if(void 0===t)return!!this.controls_;this.controls_!==(t=!!t)&&(this.controls_=t,this.usingNativeControls()&&this.techCall_("setControls",t),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},Ei.prototype.usingNativeControls=function(t){if(void 0===t)return!!this.usingNativeControls_;this.usingNativeControls_!==(t=!!t)&&(this.usingNativeControls_=t,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},Ei.prototype.error=function(t){if(void 0===t)return this.error_||null;null===t?(this.error_=t,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close()):(this.error_=new Se(t),this.addClass("vjs-error"),$.error("(CODE:"+this.error_.code+" "+Se.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"))},Ei.prototype.reportUserActivity=function(t){this.userActivity_=!0},Ei.prototype.userActive=function(t){if(void 0===t)return this.userActive_;(t=!!t)!==this.userActive_&&(this.userActive_=t,this.userActive_?(this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive")):(this.tech_&&this.tech_.one("mousemove",(function(t){t.stopPropagation(),t.preventDefault()})),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")))},Ei.prototype.listenForUserActivity_=function(){var t=void 0,e=void 0,n=void 0,o=re(this,this.reportUserActivity),r=(this.on("mousedown",(function(){o(),this.clearInterval(t),t=this.setInterval(o,250)})),this.on("mousemove",(function(t){t.screenX===e&&t.screenY===n||(e=t.screenX,n=t.screenY,o())})),this.on("mouseup",(function(e){o(),this.clearInterval(t)})),this.on("keydown",o),void this.on("keyup",o));this.setInterval((function(){var t;this.userActivity_&&(this.userActivity_=!1,this.userActive(!0),this.clearTimeout(r),(t=this.options_.inactivityTimeout)<=0||(r=this.setTimeout((function(){this.userActivity_||this.userActive(!1)}),t)))}),250)},Ei.prototype.playbackRate=function(t){if(void 0===t)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",t)},Ei.prototype.defaultPlaybackRate=function(t){return void 0!==t?this.techCall_("setDefaultPlaybackRate",t):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},Ei.prototype.isAudio=function(t){if(void 0===t)return!!this.isAudio_;this.isAudio_=!!t},Ei.prototype.addTextTrack=function(t,e,n){if(this.tech_)return this.tech_.addTextTrack(t,e,n)},Ei.prototype.addRemoteTextTrack=function(t,e){if(this.tech_)return this.tech_.addRemoteTextTrack(t,e)},Ei.prototype.removeRemoteTextTrack=function(){var t=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).track;if(this.tech_)return this.tech_.removeRemoteTextTrack(void 0===t?arguments[0]:t)},Ei.prototype.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},Ei.prototype.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},Ei.prototype.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},Ei.prototype.language=function(t){if(void 0===t)return this.language_;this.language_=String(t).toLowerCase()},Ei.prototype.languages=function(){return pe(Ei.prototype.options_.languages,this.languages_)},Ei.prototype.toJSON=function(){var t=pe(this.options_),e=t.tracks;t.tracks=[];for(var n=0;n<e.length;n++){var o=e[n];(o=pe(o)).player=void 0,t.tracks[n]=o}return t},Ei.prototype.createModal=function(t,e){var n=this,o=((e=e||{}).content=t||"",new Me(this,e));return this.addChild(o),o.on("dispose",(function(){n.removeChild(o)})),o.open(),o},Ei.getTagSettings=function(t){var e,n={sources:[],tracks:[]},o=ht(t),r=o["data-setup"];if(it(t,"vjs-fluid")&&(o.fluid=!0),null!==r&&(e=(r=d(r||"{}"))[0],r=r[1],e&&$.error(e),H(o,r)),H(n,o),t.hasChildNodes())for(var i=t.childNodes,s=0,a=i.length;s<a;s++){var l=i[s],c=l.nodeName.toLowerCase();"source"===c?n.sources.push(ht(l)):"track"===c&&n.tracks.push(ht(l))}return n},Ei.prototype.flexNotSupported_=function(){var t=u.createElement("i");return!("flexBasis"in t.style||"webkitFlexBasis"in t.style||"mozFlexBasis"in t.style||"msFlexBasis"in t.style||"msFlexOrder"in t.style)},Ei);function Ei(t,e,n){if(r(this,Ei),t.id=t.id||e.id||"vjs_video_"+jt++,(e=H(Ei.getTagSettings(t),e)).initChildren=!1,e.createEl=!1,e.evented=!1,e.reportTouchActivity=!1,!e.language)if("function"==typeof t.closest){(a=t.closest("[lang]"))&&a.getAttribute&&(e.language=a.getAttribute("lang"))}else for(var o=t;o&&1===o.nodeType;){if(ht(o).hasOwnProperty("lang")){e.language=o.getAttribute("lang");break}o=o.parentNode}var i,a;if((a=s(this,vi.call(this,null,e,n))).isPosterFromTech_=!1,a.queuedCallbacks_=[],a.isReady_=!1,a.hasStarted_=!1,a.userActive_=!1,!a.options_||!a.options_.techOrder||!a.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");a.tag=t,a.tagAttributes=t&&ht(t),a.language(a.options_.language),e.languages?(i={},Object.getOwnPropertyNames(e.languages).forEach((function(t){i[t.toLowerCase()]=e.languages[t]})),a.languages_=i):a.languages_=Ei.prototype.options_.languages,a.cache_={},a.poster_=e.poster||"",a.controls_=!!e.controls,a.cache_.lastVolume=1,t.controls=!1,t.removeAttribute("controls"),t.hasAttribute("autoplay")?a.options_.autoplay=!0:a.autoplay(a.options_.autoplay),a.scrubbing_=!1,a.el_=a.createEl(),a.cache_.lastPlaybackRate=a.defaultPlaybackRate(),le(a,{eventBusKey:"el_"});var l;n=pe(a.options_),e.plugins&&(l=e.plugins,Object.keys(l).forEach((function(t){if("function"!=typeof this[t])throw new Error('plugin "'+t+'" does not exist');this[t](l[t])}),a)),a.options_.playerOptions=n,a.middleware_=[],a.initChildren(),a.isAudio("audio"===t.nodeName.toLowerCase()),a.controls()?a.addClass("vjs-controls-enabled"):a.addClass("vjs-controls-disabled"),a.el_.setAttribute("role","region"),a.isAudio()?a.el_.setAttribute("aria-label",a.localize("Audio Player")):a.el_.setAttribute("aria-label",a.localize("Video Player")),a.isAudio()&&a.addClass("vjs-audio"),a.flexNotSupported_()&&a.addClass("vjs-no-flex"),T||a.addClass("vjs-workinghover"),Ei.players[a.id_]=a,n=v.split(".")[0];return a.addClass("vjs-v"+n),a.userActive(!0),a.reportUserActivity(),a.one("play",a.listenForUserActivity_),a.on("fullscreenchange",a.handleFullscreenChange_),a.on("stageclick",a.handleStageClick_),a.changingSrc_=!1,a.playWaitingForReady_=!1,a.playOnLoadstart_=null,a}function Si(t){return Mi.hasOwnProperty(t)}function wi(t){return Si(t)?Mi[t]:void 0}function xi(t,e){t[Oi]=t[Oi]||{},t[Oi][e]=!0}function ji(t,e,n){n=(n?"before":"")+"pluginsetup",t.trigger(n,e),t.trigger(n+":"+e.name,e)}function Pi(t,e){return e.prototype.name=t,function(){ji(this,{name:t,plugin:e,instance:null},!0);for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];var i=new(Function.prototype.bind.apply(e,[null].concat([this].concat(o))));return this[t]=function(){return i},ji(this,i.getEventHash()),i}}_n.names.forEach((function(t){var e=_n[t];ki.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}})),ki.players={};n=h.navigator;var Ai=(ki.prototype.options_={techOrder:Tn.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:n&&(n.languages&&n.languages[0]||n.userLanguage||n.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media."},O||ki.prototype.options_.children.push("resizeManager"),["ended","seeking","seekable","networkState","readyState"].forEach((function(t){ki.prototype[t]=function(){return this.techGet_(t)}})),Ti.forEach((function(t){ki.prototype["handleTech"+ue(t)+"_"]=function(){return this.trigger(t)}})),de.registerComponent("Player",ki),"plugin"),Oi="activePlugins_",Mi={},Ni=(Ii.prototype.version=function(){return this.constructor.VERSION},Ii.prototype.getEventHash=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t.name=this.name,t.plugin=this.constructor,t.instance=this,t},Ii.prototype.trigger=function(t){return zt(this.eventBusEl_,t,this.getEventHash(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}))},Ii.prototype.handleStateChanged=function(t){},Ii.prototype.dispose=function(){var t=this.name,e=this.player;this.trigger("dispose"),this.off(),e.off("dispose",this.dispose),e[Oi][t]=!1,this.player=this.state=null,e[t]=Pi(t,Mi[t])},Ii.isBasic=function(t){return"function"==typeof(t="string"==typeof t?wi(t):t)&&!Ii.prototype.isPrototypeOf(t.prototype)},Ii.registerPlugin=function(t,e){if("string"!=typeof t)throw new Error('Illegal plugin name, "'+t+'", must be a string, was '+(void 0===t?"undefined":L(t))+".");if(Si(t))$.warn('A plugin named "'+t+'" already exists. You may want to avoid re-registering plugins!');else if(ki.prototype.hasOwnProperty(t))throw new Error('Illegal plugin name, "'+t+'", cannot share a name with an existing player method!');if("function"!=typeof e)throw new Error('Illegal plugin for "'+t+'", must be a function, was '+(void 0===e?"undefined":L(e))+".");return Mi[t]=e,t!==Ai&&(Ii.isBasic(e)?ki.prototype[t]=function(t,e){function n(){ji(this,{name:t,plugin:e,instance:null},!0);var n=e.apply(this,arguments);return xi(this,t),ji(this,{name:t,plugin:e,instance:n}),n}return Object.keys(e).forEach((function(t){n[t]=e[t]})),n}(t,e):ki.prototype[t]=Pi(t,e)),e},Ii.deregisterPlugin=function(t){if(t===Ai)throw new Error("Cannot de-register base plugin.");Si(t)&&(delete Mi[t],delete ki.prototype[t])},Ii.getPlugins=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Object.keys(Mi),e=void 0;return t.forEach((function(t){var n=wi(t);n&&((e=e||{})[t]=n)})),e},Ii.getPluginVersion=function(t){return(t=wi(t))&&t.VERSION||""},Ii);function Ii(t){if(r(this,Ii),this.constructor===Ii)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=t,le(this),delete this.trigger,he(this,this.constructor.defaultState),xi(t,this.name),this.dispose=re(this,this.dispose),t.on("dispose",this.dispose)}function Di(t){return 0===t.indexOf("#")?t.slice(1):t}function Fi(t,e,n){if(r=Fi.getPlayer(t))e&&$.warn('Player "'+t+'" is already initialised. Options will not be applied.'),n&&r.ready(n);else{var o="string"==typeof t?St("#"+Di(t)):t;if(!Z(o))throw new TypeError("The element or ID supplied is not valid. (videojs)");u.body.contains(o)||$.warn("The element supplied is not included in the DOM"),e=e||{},Fi.hooks("beforesetup").forEach((function(t){!V(t=t(o,pe(e)))||Array.isArray(t)?$.error("please return an object in beforesetup hooks"):e=pe(e,t)}));var r=new(de.getComponent("Player"))(o,e,n);Fi.hooks("setup").forEach((function(t){return t(r)}))}return r}Ni.getPlugin=wi,Ni.BASE_PLUGIN_NAME=Ai,Ni.registerPlugin(Ai,Ni),ki.prototype.usingPlugin=function(t){return!!this[Oi]&&!0===this[Oi][t]},ki.prototype.hasPlugin=function(t){return!!Si(t)},"undefined"==typeof HTMLVideoElement&&Q()&&(u.createElement("video"),u.createElement("audio"),u.createElement("track"),u.createElement("video-js")),Fi.hooks_={},Fi.hooks=function(t,e){return Fi.hooks_[t]=Fi.hooks_[t]||[],e&&(Fi.hooks_[t]=Fi.hooks_[t].concat(e)),Fi.hooks_[t]},Fi.hook=function(t,e){Fi.hooks(t,e)},Fi.hookOnce=function(t,e){Fi.hooks(t,[].concat(e).map((function(e){return function n(){return Fi.removeHook(t,n),e.apply(void 0,arguments)}})))},Fi.removeHook=function(t,e){return!((e=Fi.hooks(t).indexOf(e))<=-1||(Fi.hooks_[t]=Fi.hooks_[t].slice(),Fi.hooks_[t].splice(e,1),0))},!0!==h.VIDEOJS_NO_DYNAMIC_STYLE&&Q()&&!(Gn=St(".vjs-styles-defaults"))&&(Gn=Yt("vjs-styles-defaults"),(Yr=St("head"))&&Yr.insertBefore(Gn,Yr.firstChild),Xt(Gn,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")),Gt(1,Fi),Fi.VERSION=v,Fi.options=ki.prototype.options_,Fi.getPlayers=function(){return ki.players},Fi.getPlayer=function(t){var e=ki.players,n=void 0;if("string"==typeof t){var o=Di(t),r=e[o];if(r)return r;n=St("#"+o)}else n=t;if(Z(n)&&(o=(r=n).player,t=r.playerId,o||e[t]))return o||e[t]},Fi.getAllPlayers=function(){return Object.keys(ki.players).map((function(t){return ki.players[t]})).filter(Boolean)},Fi.players=ki.players,Fi.getComponent=de.getComponent,Fi.registerComponent=function(t,e){Tn.isTech(e)&&$.warn("The "+t+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),de.registerComponent.call(de,t,e)},Fi.getTech=Tn.getTech,Fi.registerTech=Tn.registerTech,Fi.use=function(t,e){kn[t]=kn[t]||[],kn[t].push(e)},!O&&Object.defineProperty?(Object.defineProperty(Fi,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(Fi.middleware,"TERMINATOR",{value:Sn,writeable:!1,enumerable:!0})):Fi.middleware={TERMINATOR:Sn},Fi.browser=F,Fi.TOUCH_ENABLED=I,Fi.extend=function(t){var e,n=function(){t.apply(this,arguments)},o={},r=("object"===(void 0===(r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{})?"undefined":L(r))?(r.constructor!==Object.prototype.constructor&&(n=r.constructor),o=r):"function"==typeof r&&(n=r),n),i=t;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+(void 0===i?"undefined":L(i)));for(e in r.prototype=Object.create(i&&i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),i&&(r.super_=i),o)o.hasOwnProperty(e)&&(n.prototype[e]=o[e]);return n},Fi.mergeOptions=pe,Fi.bind=re,Fi.registerPlugin=Ni.registerPlugin,Fi.deregisterPlugin=Ni.deregisterPlugin,Fi.plugin=function(t,e){return $.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Ni.registerPlugin(t,e)},Fi.getPlugins=Ni.getPlugins,Fi.getPlugin=Ni.getPlugin,Fi.getPluginVersion=Ni.getPluginVersion,Fi.addLanguage=function(t,e){var n;return t=(""+t).toLowerCase(),Fi.options.languages=pe(Fi.options.languages,((n={})[t]=e,n)),Fi.options.languages[t]},Fi.log=$,Fi.createTimeRange=Fi.createTimeRanges=ge,Fi.formatTime=ho,Fi.setFormatTime=function(t){co=t},Fi.resetFormatTime=function(){co=io},Fi.parseUrl=en,Fi.isCrossOrigin=sn,Fi.EventTarget=Qt,Fi.on=Ht,Fi.one=Wt,Fi.off=Vt,Fi.trigger=zt,Fi.xhr=f,Fi.TextTrack=ln,Fi.AudioTrack=un,Fi.VideoTrack=g,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach((function(t){Fi[t]=function(){return $.warn("videojs."+t+"() is deprecated; use videojs.dom."+t+"() instead"),xt[t].apply(null,arguments)}})),Fi.computedStyle=G,Fi.dom=xt,Fi.url=Rt,t.exports=Fi}}]);